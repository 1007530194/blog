<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!-->
<html class="no-js" lang="en"><!--<![endif]-->
    <head>
<meta charset="utf-8">
<title>推荐系统 &mdash; 魑魅魍魉</title>

<meta name="author" content="niult">






<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">



<link href="../../../theme/css/main.css" media="screen, projection"
      rel="stylesheet" type="text/css">

<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
      rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
      rel="stylesheet" type="text/css">
</head>

<body>

<script src="../../../theme/js/modernizr-2.0.js"></script>
<script src="../../../theme/js/ender.js"></script>
<script src="../../../theme/js/octopress.js" type="text/javascript"></script>
<script src="../../../theme/js/echarts.min.js" type="text/javascript"></script>
<script src="../../../theme/js/require.min.js" type="text/javascript"></script>

<header role="banner"><hgroup>
  <h1><a href="../../../">魑魅魍魉</a></h1>
</hgroup></header>
<nav role="navigation">    <ul class="subscription" data-subscription="rss">
    </ul>


<ul class="main-navigation">
            <li >
                <a href="../../../category/01chang yong gong ju.html">01常用工具</a>
            </li>
            <li >
                <a href="../../../category/02.wo ai du shu.html">02.我爱读书</a>
            </li>
            <li >
                <a href="../../../category/algorithms.html">Algorithms</a>
            </li>
            <li >
                <a href="../../../category/book.html">Book</a>
            </li>
            <li >
                <a href="../../../category/book-pydata.html">Book-pydata</a>
            </li>
            <li >
                <a href="../../../category/deep-learning-with-python.html">Deep-learning-with-python</a>
            </li>
            <li >
                <a href="../../../category/ji qi xue xi shi zhan.html">机器学习实战</a>
            </li>
            <li >
                <a href="../../../category/ke wai du wu.html">课外读物</a>
            </li>
            <li >
                <a href="../../../category/ling ji chu ru men shen du xue xi.html">零基础入门深度学习</a>
            </li>
            <li >
                <a href="../../../category/shen du xue xi.html">深度学习</a>
            </li>
            <li >
                <a href="../../../category/shen jing wang luo.html">神经网络</a>
            </li>
            <li >
                <a href="../../../category/shu ju wa jue.html">数据挖掘</a>
            </li>
            <li >
                <a href="../../../category/shu xue ji chu.html">数学基础</a>
            </li>
            <li >
                <a href="../../../category/tf-example.html">Tf-example</a>
            </li>
            <li >
                <a href="../../../category/tool1.html">Tool1</a>
            </li>
            <li >
                <a href="../../../category/tool2.html">Tool2</a>
            </li>
            <li >
                <a href="../../../category/tools.html">Tools</a>
            </li>
            <li class="active">
                <a href="../../../category/tui jian xi tong.html">推荐系统</a>
            </li>
            <li >
                <a href="../../../category/wen ben wa jue.html">文本挖掘</a>
            </li>
</ul>
</nav>
<div id="main">
    <div id="content">
    <div>

        <h4>Contents</h4>
        

        <article class="hentry" role="article">
<header>
        <h1 class="entry-title">推荐系统</h1>
    <p class="meta">
<time datetime="2019-01-16T00:00:00+08:00" pubdate>2019-01-16 00:00</time>    </p>
</header>

    <div class="entry-content"><style type="text/css">/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  min-width: 0;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell > div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area > div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area > div.highlight > pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the <head> if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev <Maniac@SoftwareManiacs.Org>
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell > div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
</style>
<style type="text/css">.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sa { color: #BA2121 } /* Literal.String.Affix */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .dl { color: #BA2121 } /* Literal.String.Delimiter */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .fm { color: #0000FF } /* Name.Function.Magic */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .vm { color: #19177C } /* Name.Variable.Magic */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */</style>
<style type="text/css">
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
</style><body>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="LibRec">LibRec<a class="anchor-link" href="#LibRec">¶</a></h2><p><a href="http://chuansong.me/n/1701947351918">中文介绍</a></p>
<p><a href="https://github.com/guoguibing/librec">github源码</a></p>
<p><a href="https://mp.weixin.qq.com/s/AB39ihVWXYHRbeODbGO-2g">通识篇</a></p>
<p><a href="https://mp.weixin.qq.com/s/OyYn5_4GYAbF0L0SFgsHVQ">工程导入</a></p>
<p><a href="https://mp.weixin.qq.com/s/xnkg6BGyUUKmbs009p8XCw">命令行操作</a></p>
<p><a href="https://mp.weixin.qq.com/s/vDnca1FMW9vVrFDgti_1IA">团队一周年纪</a></p>
<h2 id="实践">实践<a class="anchor-link" href="#实践">¶</a></h2><p>maven项目可以直接依赖</p>
<div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">dependency</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">groupId</span><span class="p">&gt;</span>net.librec<span class="p">&lt;/</span><span class="nt">groupId</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">artifactId</span><span class="p">&gt;</span>librec-core<span class="p">&lt;/</span><span class="nt">artifactId</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">version</span><span class="p">&gt;</span>2.0.0<span class="p">&lt;/</span><span class="nt">version</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">dependency</span><span class="p">&gt;</span>
</pre></div>
<p>为了更好的理解，这里直接拉取源码和对应的数据，跑通算例</p>
<div class="highlight"><pre><span></span>git clone https://github.com/guoguibing/librec.git
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Introduction">Introduction<a class="anchor-link" href="#Introduction">¶</a></h1><h2 id="1.-Overview">1. Overview<a class="anchor-link" href="#1.-Overview">¶</a></h2><p>LibRec 是一个基于java 1.7以GPL-3.0协议发布的开源推荐系统. LibRec内包含大量推荐算法并可以通过这些算法快速解决rating和ranking问题. 目前LibRec已被RecSys wiki收录.</p>
<p>与1.4相比, 2.0版本重新程序的整体结构, 接口更加合理, 可扩展性更强. 对于Librec内已经实现的推荐算法, 可以使用命令行和参数或者配置文件来执行. 也可以通过导入jar包用于其他项目中.</p>
<p>Librec 的运行需要jdk的版本 &gt;= 1.7</p>
<h2 id="2.-Features">2. Features<a class="anchor-link" href="#2.-Features">¶</a></h2><ul>
<li><strong>丰富的算法集</strong> 截止到目前，LibRec已经集成了70余个各类型推荐算法。具体来说，分为基准算法、协同过滤算法、基于内容的算法、情景感知算法、混合算法和其它扩展算法等。在新的版本里，增加了40余个新算法，包括概率图模型、张量分解模型、因子分解机、基于评论的模型、深度学习模块（RBM）等新颖的算法。团队的每个核心开发人员往往负责某一类型算法的开发和测试工作。</li>
<li><strong>良好的模块化</strong>  相对于LibRec 1.x，新版本在底层结构上做了非常深入的优化，尤其是模块化方面。新版本的推荐库可分为以下三部分：数据预处理、推荐算法和训练后处理。在数据预处理模块，主要是数据的转换与分割。支持两种格式数据的输入和转换，一个是常见的 User-Item-Rating 格式，另一个是更通用的ARFF格式，用户还可以扩展新类型的数据以增强现有的ARFF格式。在数据分割方面，支持按Ratio，Given-N，k-fold Cross validation, Leave-one-out等方式。在推荐模型模块，包括情景感知和算法集成。情景感知指的是算法依赖的情景信息，如用户相似度；算法集成则是算法的逻辑实现。在模型训练之后，LibRec支持两种操作：一是对测试集进行评估，得到如MAE、RMSE、AUC、MAP、NDCG等测试结果；二是对给定的用户（或情景）进行评分预测或物品推荐等查询操作，用户可以通过实现filter接口自定义更多的过滤操作。</li>
<li><strong>灵活的框架配置</strong> LibRec新版本承袭了基于配置的特点，但是有所更新和发展。新的配置实现参考了其它知名数据挖掘工具库的实现特点，在灵活性上得到了有效的提高。具体来说，我们抽取出很多公共的配置项，也为独立的算法保留了特定的配置参数。为了提高算法的易配置性，我们为大多数算法保留了可用的供参考配置设置。</li>
<li><strong>高效的执行性能</strong> LibRec一直非常注重算法执行的高效性，并尽可能地优化框架结构和算法实现。与其它的推荐算法库相比，LibRec能够在得到相当的推荐性能的前提下，在更短的时间内执行完成。</li>
<li><strong>简单的框架用法</strong> 简单的框架用法。LibRec早期版本只能独立运行，难以集成在其它工程中使用。由于良好的模块结构，新版本既可以单独运行，也能够作为依赖库应用于其它工程中</li>
<li><strong>良好的可扩展性</strong> 良好的易扩展性。LibRec提供了很好的公共接口以便用户进行个性化扩展。包括数据类型、推荐算法、输出类型、评估因子、过滤器等的扩展接口。使用LibRec开发新算法，用户通常只需要关注新算法的逻辑实现，而不需要担心其它部分的实现。</li>
</ul>
<h2 id="3.-Getting-started">3. Getting started<a class="anchor-link" href="#3.-Getting-started">¶</a></h2><h3 id="3.1-Clone-source-code-from-github">3.1 Clone source code from github<a class="anchor-link" href="#3.1-Clone-source-code-from-github">¶</a></h3><p>当前代码托管在github中, 通过以下方式可以获取源码</p>
<p>by git</p>
<pre><code>git clone https://github.com/guoguibing/librec.git --recursive &amp;&amp; cd librec</code></pre>
<p>by wget</p>
<pre><code>wget -c https://codeload.github.com/guoguibing/librec/zip/2.0.0-alpha &amp;&amp; unzip 2.0.0-alpha &amp;&amp; rm 2.0.0-alpha &amp;&amp; cd librec-2.0.0-alpha</code></pre>
<p>by maven</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;net.librec&lt;/groupId&gt;
    &lt;artifactId&gt;librec-core&lt;/artifactId&gt;
    &lt;version&gt;2.0.0&lt;/version&gt;
&lt;/dependency&gt;</code></pre>
<h3 id="3.2-Run-a-recommender-in-console">3.2 Run a recommender in console<a class="anchor-link" href="#3.2-Run-a-recommender-in-console">¶</a></h3>
<pre><code>bin/librec rec -exec -D dfs.data.dir=./data -D dfs.result.dir=./result -D rec.recommender.class=globalaverage</code></pre>
<p>如果之前接触过Hadoop等系统, 那么看这个调用方式会很熟悉. LibRec通过调用命令行来输入相应的参数并提交计算作业, 计算过程以日志形式打印在终端, 最终推荐结果保存在当前目录的result文件夹下.</p>
<h3 id="3.3-Run-a-recommender-in-IDE">3.3 Run a recommender in IDE<a class="anchor-link" href="#3.3-Run-a-recommender-in-IDE">¶</a></h3><p>在LibRec中执行算法有两种方式:在程序中指定配置项；读取配置文件</p>
<p>指定配置项代码示例:</p>
<div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>

        <span class="c1">// build data model</span>
        <span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>
        <span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">,</span> <span class="s">"G:/LibRec/librec/data"</span><span class="o">);</span>
        <span class="n">TextDataModel</span> <span class="n">dataModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextDataModel</span><span class="o">(</span><span class="n">conf</span><span class="o">);</span>
        <span class="n">dataModel</span><span class="o">.</span><span class="na">buildDataModel</span><span class="o">();</span>

        <span class="c1">// build recommender context</span>
        <span class="n">RecommenderContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RecommenderContext</span><span class="o">(</span><span class="n">conf</span><span class="o">,</span> <span class="n">dataModel</span><span class="o">);</span>

        <span class="c1">// build similarity</span>
        <span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"rec.recommender.similarity.key"</span> <span class="o">,</span><span class="s">"item"</span><span class="o">);</span>
        <span class="n">RecommenderSimilarity</span> <span class="n">similarity</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PCCSimilarity</span><span class="o">();</span>
        <span class="n">similarity</span><span class="o">.</span><span class="na">buildSimilarityMatrix</span><span class="o">(</span><span class="n">dataModel</span><span class="o">);</span>
        <span class="n">context</span><span class="o">.</span><span class="na">setSimilarity</span><span class="o">(</span><span class="n">similarity</span><span class="o">);</span>

        <span class="c1">// build recommender</span>
        <span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"rec.neighbors.knn.number"</span><span class="o">,</span> <span class="s">"5"</span><span class="o">);</span>
        <span class="n">Recommender</span> <span class="n">recommender</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ItemKNNRecommender</span><span class="o">();</span>
        <span class="n">recommender</span><span class="o">.</span><span class="na">setContext</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>

        <span class="c1">// run recommender algorithm</span>
        <span class="n">recommender</span><span class="o">.</span><span class="na">recommend</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>

        <span class="c1">// evaluate the recommended result</span>
        <span class="n">RecommenderEvaluator</span> <span class="n">evaluator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RMSEEvaluator</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"RMSE:"</span> <span class="o">+</span> <span class="n">recommender</span><span class="o">.</span><span class="na">evaluate</span><span class="o">(</span><span class="n">evaluator</span><span class="o">));</span>

        <span class="c1">// set id list of filter</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">userIdList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">itemIdList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
        <span class="n">userIdList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"1"</span><span class="o">);</span>
        <span class="n">itemIdList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">"70"</span><span class="o">);</span>

        <span class="c1">// filter the recommended result</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">RecommendedItem</span><span class="o">&gt;</span> <span class="n">recommendedItemList</span> <span class="o">=</span> <span class="n">recommender</span><span class="o">.</span><span class="na">getRecommendedList</span><span class="o">();</span>
        <span class="n">GenericRecommendedFilter</span> <span class="n">filter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GenericRecommendedFilter</span><span class="o">();</span>
        <span class="n">filter</span><span class="o">.</span><span class="na">setUserIdList</span><span class="o">(</span><span class="n">userIdList</span><span class="o">);</span>
        <span class="n">filter</span><span class="o">.</span><span class="na">setItemIdList</span><span class="o">(</span><span class="n">itemIdList</span><span class="o">);</span>
        <span class="n">recommendedItemList</span> <span class="o">=</span> <span class="n">filter</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">recommendedItemList</span><span class="o">);</span>

        <span class="c1">// print filter result</span>
        <span class="k">for</span> <span class="o">(</span><span class="n">RecommendedItem</span> <span class="n">recommendedItem</span> <span class="o">:</span> <span class="n">recommendedItemList</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span>
                    <span class="s">"user:"</span> <span class="o">+</span> <span class="n">recommendedItem</span><span class="o">.</span><span class="na">getUserId</span><span class="o">()</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span>
                    <span class="s">"item:"</span> <span class="o">+</span> <span class="n">recommendedItem</span><span class="o">.</span><span class="na">getItemId</span><span class="o">()</span> <span class="o">+</span> <span class="s">" "</span> <span class="o">+</span>
                    <span class="s">"value:"</span> <span class="o">+</span> <span class="n">recommendedItem</span><span class="o">.</span><span class="na">getValue</span><span class="o">()</span>
            <span class="o">);</span>
        <span class="o">}</span>
<span class="o">}</span>
</pre></div>
<p>读取配置文件代码示例:
可以如示例中使用相对目录访问jar包中的配置文件，也可以指定自己编辑的配置文件。</p>
<div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">testRecommender</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">ClassNotFoundException</span><span class="o">,</span> <span class="n">LibrecException</span><span class="o">,</span> <span class="n">IOException</span> <span class="o">{</span>
    <span class="n">Resource</span> <span class="n">resource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Resource</span><span class="o">(</span><span class="s">"rec/cf/itemknn-test.properties"</span><span class="o">);</span>
    <span class="n">conf</span><span class="o">.</span><span class="na">addResource</span><span class="o">(</span><span class="n">resource</span><span class="o">);</span>
    <span class="n">RecommenderJob</span> <span class="n">job</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RecommenderJob</span><span class="o">(</span><span class="n">conf</span><span class="o">);</span>
    <span class="n">job</span><span class="o">.</span><span class="na">runJob</span><span class="o">();</span>
<span class="o">}</span>
</pre></div>
<p>LibRec的计算过程为构建数据模型, 实例推荐上下文并加入相似度矩阵, 实例相应的推荐算法以及评估器, 最终根据需求可以对结果进行过滤获取相应的结果.</p>
<h3 id="3.4-What-happend">3.4 What happend<a class="anchor-link" href="#3.4-What-happend">¶</a></h3><p>Librec经过良好的封装, 可以直接通过命令行加载配置项来运行相应的代码,也可以在其他工程中分别实例Java相应的类来进行计算.</p>
<p>在命令行中, rec参数指定程序进行推荐, 其他参数在参数-exec 之后通过-D 或-jobconf来指定. 其中dfs.data.dir 与dfs.result.dir 分别指定了读取数据的路径与存放结果的路径. rec.recommender.class指定运行的算法. 命令行的其他用法请参考<a href="./CLI walkthrough">CLI walkthrough</a>. 其他算法以及配置项请参考<a href="./Algorithm list">Algorithm list</a>. 不同配置项的含义请参考配置文件<code>librec.properties</code></p>
<p>在Java环境中, 所有配置项由实例Configuration类的对象保存. Configuration类可以通过方法<code>set(str, str)</code>来设定配置项的key-value, 也可以通过Resources类来读取配置文件. 之后根据需求来实例相应的类并调用合适的方法. 其中DataModel类根据配置文件中的路径来进行数据的读取与分割. 实例化相应的相似度类,使用buildSimilarityMatrix方法来引用数据并构建相似度矩阵. 实例化相应的推荐算法类, 根据推荐结果来进行评估并过滤输出. 具体不同类的方法请参考API Document, 不同抽象类的子类以及相应的方法请参考<a href="./DataModel">DataModel</a>,<a href="./Recommender">Recommender</a>,<a href="./Evaluator">Evaluator</a>,<a href="./Similarity">similarity</a>,<a href="./Filter">Filter</a></p>
<h2 id="4.-Need-Help?">4. Need Help?<a class="anchor-link" href="#4.-Need-Help?">¶</a></h2><ul>
<li>Reporting Bugs:<a href="https://github.com/guoguibing/librec/issues">github issues</a></li>
<li>Hang out with us: <a href="https://gitter.im/librec/Lobby">gitter</a></li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Algorithm-list">Algorithm list<a class="anchor-link" href="#Algorithm-list">¶</a></h1><hr/>
<h3 id="Recommender-Algorithm-List">Recommender Algorithm List<a class="anchor-link" href="#Recommender-Algorithm-List">¶</a></h3><table>
<thead><tr>
<th>superClass</th>
<th>directory path</th>
<th>short name</th>
<th>algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td>AbstractRecommender</td>
<td>baseline</td>
<td>constantguess</td>
<td>ConstantGuessRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>baseline</td>
<td>globalaverage</td>
<td>GlobalAverageRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>baseline</td>
<td>itemaverage</td>
<td>ItemAverageRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>baseline</td>
<td>itemcluster</td>
<td>ItemClusterRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>baseline</td>
<td>mostpopular</td>
<td>MostPopularRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>baseline</td>
<td>randomguess</td>
<td>RandomGuessRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>baseline</td>
<td>useraverage</td>
<td>UserAverageRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>baseline</td>
<td>usercluster</td>
<td>UserClusterRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>aobpr</td>
<td>AoBPRRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf.ranking</td>
<td>aspectmodelranking</td>
<td>AspectModelRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>bpr</td>
<td>BPRRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>climf</td>
<td>CLIMFRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>eals</td>
<td>EALSRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>fismauc</td>
<td>FISMaucRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>fismrmse</td>
<td>FISMrmseRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>gbpr</td>
<td>GBPRRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf.ranking</td>
<td>itembigram</td>
<td>ItemBigramRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf.ranking</td>
<td>lda</td>
<td>LDARecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>Listwisemf</td>
<td>ListwiseMFRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf.ranking</td>
<td>plsa</td>
<td>PLSARecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>rankals</td>
<td>RankALSRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>ranksgd</td>
<td>RankSGDRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>cf.ranking</td>
<td>slim</td>
<td>SLIMRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>wbpr</td>
<td>WBPRRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.ranking</td>
<td>wrmf</td>
<td>WRMFRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf.rating</td>
<td>aspectmodelrating</td>
<td>AspectModelRecommender</td>
</tr>
<tr>
<td>BiasedMFRecommender → MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>asvdpp</td>
<td>ASVDPlusPlusRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>biasedmf</td>
<td>BiasedMFRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>bnpoissmf</td>
<td>BNPoissMFRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>bpmf</td>
<td>BPMFRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>bpoissmf</td>
<td>BPoissMFRecommender</td>
</tr>
<tr>
<td>FactorizationMachineRecommender</td>
<td>cf.rating</td>
<td>fmals</td>
<td>FMALSRecommender</td>
</tr>
<tr>
<td>FactorizationMachineRecommender</td>
<td>cf.rating</td>
<td>fmsgd</td>
<td>FMSGDRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf.rating</td>
<td>gplsa</td>
<td>GPLSARecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf.rating</td>
<td>ldcc</td>
<td>LDCCRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>llorma</td>
<td>LLORMARecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>mfals</td>
<td>MFALSRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>nmf</td>
<td>NMFRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>pmf</td>
<td>PMFRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>cf.rating</td>
<td>rbm</td>
<td>RBMRecommender</td>
</tr>
<tr>
<td>MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>rfrec</td>
<td>RFRecRecommender</td>
</tr>
<tr>
<td>BiasedMFRecommender → MatrixFactorizationRecommender</td>
<td>cf.rating</td>
<td>svdpp</td>
<td>SVDPlusPlusRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf.rating</td>
<td>urp</td>
<td>URPRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf</td>
<td>bhfree</td>
<td>BHFreeRecommender</td>
</tr>
<tr>
<td>ProbabilisticGraphicalRecommender</td>
<td>cf</td>
<td>bucm</td>
<td>BUCMRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>cf</td>
<td>itemknn</td>
<td>ItemKNNRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>cf</td>
<td>userknn</td>
<td>UserKNNRecommender</td>
</tr>
<tr>
<td>BiasedMFRecommender → MatrixFactorizationRecommender</td>
<td>content</td>
<td>efm</td>
<td>EFMRecommender</td>
</tr>
<tr>
<td>BiasedMFRecommender → MatrixFactorizationRecommender</td>
<td>content</td>
<td>hft</td>
<td>HFTRecommender</td>
</tr>
<tr>
<td>SocialRecommender</td>
<td>context.ranking</td>
<td>sbpr</td>
<td>SBPRRecommender</td>
</tr>
<tr>
<td>TensorRecommender</td>
<td>context.rating</td>
<td>bptf</td>
<td>BPTFRecommender</td>
</tr>
<tr>
<td>TensorRecommender</td>
<td>context.rating</td>
<td>pitf</td>
<td>PITFRecommender</td>
</tr>
<tr>
<td>SocialRecommender</td>
<td>context.rating</td>
<td>rste</td>
<td>RSTERecommender</td>
</tr>
<tr>
<td>SocialRecommender</td>
<td>context.rating</td>
<td>socialmf</td>
<td>SocialMFRecommender</td>
</tr>
<tr>
<td>SocialRecommender</td>
<td>context.rating</td>
<td>sorec</td>
<td>SoRecRecommender</td>
</tr>
<tr>
<td>SocialRecommender</td>
<td>context.rating</td>
<td>soreg</td>
<td>SoRegRecommender</td>
</tr>
<tr>
<td>BiasedMFRecommender → MatrixFactorizationRecommender</td>
<td>context.rating</td>
<td>timesvd</td>
<td>TimeSVDRecommender</td>
</tr>
<tr>
<td>SocialMFRecommender</td>
<td>context.rating</td>
<td>trustmf</td>
<td>TrustMFRecommender</td>
</tr>
<tr>
<td>SocialRecommender</td>
<td>context.rating</td>
<td>trustsvd</td>
<td>TrustSVDRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>ext</td>
<td>associationrule</td>
<td>AssociationRuleRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>ext</td>
<td>external</td>
<td>ExternalRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>ext</td>
<td>personalitydiagnosis</td>
<td>PersonalityDiagnosisRecommender</td>
</tr>
<tr>
<td>RankSGDRecommender → MatrixFactorizationRecommender</td>
<td>ext</td>
<td>prankd</td>
<td>PRankDRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>ext</td>
<td>slopeone</td>
<td>SlopeOneRecommender</td>
</tr>
<tr>
<td>AbstractRecommender</td>
<td>hybrid</td>
<td>hybrid</td>
<td>HybridRecommender</td>
</tr>
</tbody>
</table>
<h3 id="Algorithm-Configuration-List">Algorithm Configuration List<a class="anchor-link" href="#Algorithm-Configuration-List">¶</a></h3><h4 id="Baseline">Baseline<a class="anchor-link" href="#Baseline">¶</a></h4><h5 id="ConstantGuessRecommender">ConstantGuessRecommender<a class="anchor-link" href="#ConstantGuessRecommender">¶</a></h5>
<pre><code>rec.recommender.class=constantguess</code></pre>
<h5 id="GlobalAverageRecommender">GlobalAverageRecommender<a class="anchor-link" href="#GlobalAverageRecommender">¶</a></h5>
<pre><code>rec.recommender.class=globalaverage</code></pre>
<h5 id="ItemAverageRecommender">ItemAverageRecommender<a class="anchor-link" href="#ItemAverageRecommender">¶</a></h5>
<pre><code>rec.recommender.class=itemaverage</code></pre>
<h5 id="ItemClusterRecommender">ItemClusterRecommender<a class="anchor-link" href="#ItemClusterRecommender">¶</a></h5>
<pre><code>rec.recommender.class=itemcluster
rec.pgm.number=10
rec.iterator.maximum=20</code></pre>
<h5 id="MostPopularRecommender">MostPopularRecommender<a class="anchor-link" href="#MostPopularRecommender">¶</a></h5>
<pre><code>rec.recommender.class=mostpopular
rec.recommender.isranking=true</code></pre>
<h5 id="RandomGuessRecommender">RandomGuessRecommender<a class="anchor-link" href="#RandomGuessRecommender">¶</a></h5>
<pre><code>rec.recommender.class=randomguess</code></pre>
<h5 id="UserAverageRecommender">UserAverageRecommender<a class="anchor-link" href="#UserAverageRecommender">¶</a></h5>
<pre><code>rec.recommender.class=useraverage</code></pre>
<h5 id="UserClusterRecommender">UserClusterRecommender<a class="anchor-link" href="#UserClusterRecommender">¶</a></h5>
<pre><code>rec.recommender.class=usercluster
rec.factory.number=10
rec.iterator.maximum=20</code></pre>
<h4 id="Collaborative-Filtering-(item-ranking)">Collaborative Filtering (item ranking)<a class="anchor-link" href="#Collaborative-Filtering-(item-ranking)">¶</a></h4><h5 id="AOBPRRecommender">AOBPRRecommender<a class="anchor-link" href="#AOBPRRecommender">¶</a></h5>
<pre><code>rec.recommender.class=aobpr
rec.item.distribution.parameter = 500
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="AspectModelRecommender">AspectModelRecommender<a class="anchor-link" href="#AspectModelRecommender">¶</a></h5>
<pre><code>rec.recommender.class=aspectmodelranking
rec.iterator.maximum=20
rec.recommender.isranking=true
rec.recommender.ranking.topn=10
data.splitter.cv.number=5
rec.pgm.burnin=10
rec.pgm.samplelag=10
rec.topic.number=10</code></pre>
<h5 id="BPRRecommender">BPRRecommender<a class="anchor-link" href="#BPRRecommender">¶</a></h5>
<pre><code>rec.recommender.class=bpr
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnRate.bolddriver=false
rec.learnRate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="CLIMFRecommender">CLIMFRecommender<a class="anchor-link" href="#CLIMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=climf
rec.iterator.learnrate=0.001
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="EALSRecommender">EALSRecommender<a class="anchor-link" href="#EALSRecommender">¶</a></h5>
<pre><code>rec.recommender.class=eals
rec.iterator.maximum=10
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.recommender.isranking=true
rec.recommender.ranking.topn=10

# 0：eALS MF; 1：WRMF; 2: both
rec.eals.wrmf.judge=1

# the overall weight of missing data c0
rec.eals.overall=128

# the significance level of popular items over un-popular ones
rec.eals.ratio=0.4

# confidence weight coefficient, alpha in original paper
rec.wrmf.weight.coefficient=4.0</code></pre>
<h5 id="FISMaucRecommender">FISMaucRecommender<a class="anchor-link" href="#FISMaucRecommender">¶</a></h5>
<pre><code>rec.recommender.class=fismauc
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=10
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10

rec.fismauc.rho=2
rec.fismauc.alpha=1.5</code></pre>
<h5 id="FISMrmseRecommender">FISMrmseRecommender<a class="anchor-link" href="#FISMrmseRecommender">¶</a></h5>
<pre><code>rec.recommender.class=fismrmse
rec.iteration.learnrate=0.01
rec.iterator.maximum=100
rec.recommender.isranking=true

rec.fismrmse.rho=1
rec.fismrmse.alpha=1.5</code></pre>
<h5 id="GBPRRecommender">GBPRRecommender<a class="anchor-link" href="#GBPRRecommender">¶</a></h5>
<pre><code>rec.recommender.class=gbpr
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="ItemBigramRecommender">ItemBigramRecommender<a class="anchor-link" href="#ItemBigramRecommender">¶</a></h5>
<pre><code>rec.recommender.class=itembigram
data.column.format=UIRT
data.input.path=test/ratings-date.txt
rec.iterator.maximum=100
rec.topic.number=10
rec.recommender.isranking=true
rec.recommender.ranking.topn=10
rec.user.dirichlet.prior=0.01
rec.topic.dirichlet.prior=0.01
rec.pgm.burnin=10
rec.pgm.samplelag=10</code></pre>
<h5 id="LDARecommender">LDARecommender<a class="anchor-link" href="#LDARecommender">¶</a></h5>
<pre><code>rec.recommender.class=lda
rec.iterator.maximum=100
rec.topic.number = 10
rec.recommender.isranking=true
rec.recommender.ranking.topn=10
rec.user.dirichlet.prior=0.01
rec.topic.dirichlet.prior=0.01
rec.pgm.burnin=10
rec.pgm.samplelag=10
data.splitter.cv.number=5
# (0.0 may be a better choose than -1.0)
data.convert.binarize.threshold=0.0</code></pre>
<h5 id="ListwiseMFRecommender">ListwiseMFRecommender<a class="anchor-link" href="#ListwiseMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=listwisemf
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="PLSARecommender">PLSARecommender<a class="anchor-link" href="#PLSARecommender">¶</a></h5>
<pre><code>rec.recommender.class=plsa
rec.iteration.learnrate=0.01
rec.iterator.maximum=100
rec.recommender.isranking=true
rec.topic.number = 10
rec.recommender.ranking.topn=10
# (0.0 may be a better choose than -1.0)
data.convert.binarize.threshold=0.0</code></pre>
<h5 id="RankALSRecommender">RankALSRecommender<a class="anchor-link" href="#RankALSRecommender">¶</a></h5>
<pre><code>rec.recommender.class=rankals
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10

rec.rankals.support.weight=true</code></pre>
<h5 id="RankSGDRecommender">RankSGDRecommender<a class="anchor-link" href="#RankSGDRecommender">¶</a></h5>
<pre><code>rec.recommender.class=ranksgd
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=30
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="SLIMRecommender">SLIMRecommender<a class="anchor-link" href="#SLIMRecommender">¶</a></h5>
<pre><code>rec.recommender.class=slim
rec.similarity.class=cos
# can only use item similarity
rec.recommender.similarities=item
rec.iterator.maximum=40
rec.similarity.shrinkage=10
rec.recommender.isranking=true
rec.recommender.ranking.topn=10
rec.neighbors.knn.number=50
rec.recommender.earlystop=true

rec.slim.regularization.l1=1
rec.slim.regularization.l2=5</code></pre>
<h5 id="WBPRRecommender">WBPRRecommender<a class="anchor-link" href="#WBPRRecommender">¶</a></h5>
<pre><code>rec.recommender.class=wbpr
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=10
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.bias.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="WRMFRecommender">WRMFRecommender<a class="anchor-link" href="#WRMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=wrmf
rec.iterator.maximum=20
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.recommender.isranking=true
rec.recommender.ranking.topn=10

# confidence weight coefficient, alpha in original paper
rec.wrmf.weight.coefficient=4.0</code></pre>
<h4 id="Collaborative-Filtering-(rating-prediction)">Collaborative Filtering (rating prediction)<a class="anchor-link" href="#Collaborative-Filtering-(rating-prediction)">¶</a></h4><h5 id="AspectModelRecommender">AspectModelRecommender<a class="anchor-link" href="#AspectModelRecommender">¶</a></h5>
<pre><code>rec.recommender.class=aspectmodelrating
rec.iteration.learnrate=0.01
rec.iterator.maximum=100</code></pre>
<h5 id="ASVDPlusPlusRecommender">ASVDPlusPlusRecommender<a class="anchor-link" href="#ASVDPlusPlusRecommender">¶</a></h5>
<pre><code>rec.recommender.class=asvdpp
rec.iteration.learnrate=0.01
rec.iterator.maximum=20</code></pre>
<h5 id="BiasedMFRecommender">BiasedMFRecommender<a class="anchor-link" href="#BiasedMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=biasedmf
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=1
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.bias.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0</code></pre>
<h5 id="BNPoissMFRecommender">BNPoissMFRecommender<a class="anchor-link" href="#BNPoissMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=bnpoissmf
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0</code></pre>
<h5 id="BPMFRecommender">BPMFRecommender<a class="anchor-link" href="#BPMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=bpmf
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10</code></pre>
<h5 id="BPoissMFRecommender">BPoissMFRecommender<a class="anchor-link" href="#BPoissMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=bpoissmf
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0</code></pre>
<h5 id="FMALSRecommender">FMALSRecommender<a class="anchor-link" href="#FMALSRecommender">¶</a></h5>
<pre><code>data.input.path=arfftest/data.arff
data.column.format=UIR
data.model.splitter=ratio
data.convertor.format=arff
data.model.format=arff

rec.recommender.class=fmals
rec.iterator.learnRate=0.01
rec.iterator.maximum=100
rec.factor.number=10</code></pre>
<h5 id="FMSGDRecommender">FMSGDRecommender<a class="anchor-link" href="#FMSGDRecommender">¶</a></h5>
<pre><code>data.input.path=arfftest/data.arff
data.column.format=UIR
data.model.splitter=ratio
data.convertor.format=arff
data.model.format=arff

rec.recommender.class=fmsgd
rec.iterator.learnRate=0.001
rec.iterator.maximum=100
rec.factor.number=10</code></pre>
<h5 id="GPLSARecommender">GPLSARecommender<a class="anchor-link" href="#GPLSARecommender">¶</a></h5>
<pre><code>rec.recommender.class=gplsa
rec.iteration.learnrate=0.01
rec.iterator.maximum=100
rec.recommender.smoothWeight=2
rec.recommender.isranking=false
rec.topic.number = 10</code></pre>
<h5 id="LDCCRecommender">LDCCRecommender<a class="anchor-link" href="#LDCCRecommender">¶</a></h5>
<pre><code>rec.recommender.class=ldcc
rec.iteration.learnrate=0.01
rec.iterator.maximum=100</code></pre>
<h5 id="LLORMARecommender">LLORMARecommender<a class="anchor-link" href="#LLORMARecommender">¶</a></h5>
<pre><code>rec.recommender.class=llorma
rec.llorma.global.factors.num = 10
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0</code></pre>
<h5 id="MFALSRecommender">MFALSRecommender<a class="anchor-link" href="#MFALSRecommender">¶</a></h5>
<pre><code>rec.recommender.class=mfals
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10</code></pre>
<h5 id="NMFRecommender">NMFRecommender<a class="anchor-link" href="#NMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=nmf
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0</code></pre>
<h5 id="PMFRecommender">PMFRecommender<a class="anchor-link" href="#PMFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=pmf
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=50
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0</code></pre>
<h5 id="RBMRecommender">RBMRecommender<a class="anchor-link" href="#RBMRecommender">¶</a></h5>
<pre><code>rec.recommender.class=rbm
rec.iterator.maximum=20
data.input.path=movielens/ml-100k/ratings.txt
rec.factor.number=500
rec.epsilonw=0.01
rec.epsilonvb=0.01
rec.epsilonhb=0.01
rec.tstep=1
rec.momentum=0.1
rec.lamtaw=0.01
rec.lamtab=0.0
rec.predictiontype=mean</code></pre>
<h5 id="RFRecRecommender">RFRecRecommender<a class="anchor-link" href="#RFRecRecommender">¶</a></h5>
<pre><code>rec.recommender.class=rfrec
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0</code></pre>
<h5 id="SVDPlusPlusRecommender">SVDPlusPlusRecommender<a class="anchor-link" href="#SVDPlusPlusRecommender">¶</a></h5>
<pre><code>rec.recommender.class=svdpp
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=13
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.impItem.regularization=0.001
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0</code></pre>
<h5 id="URPRecommender">URPRecommender<a class="anchor-link" href="#URPRecommender">¶</a></h5>
<pre><code>rec.recommender.class=urp
rec.iteration.learnrate=0.01
rec.iterator.maximum=100</code></pre>
<h4 id="Collaborative-Filtering-(rating-prediction-and-item-ranking)">Collaborative Filtering (rating prediction and item ranking)<a class="anchor-link" href="#Collaborative-Filtering-(rating-prediction-and-item-ranking)">¶</a></h4><h5 id="BHFreeRecommender">BHFreeRecommender<a class="anchor-link" href="#BHFreeRecommender">¶</a></h5>
<pre><code>rec.recommender.class=bhfree
rec.pgm.burnin=10
rec.pgm.samplelag=10
rec.iterator.maximum=100
# true for item ranking, false for rating prediction
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="BUCMRecommender">BUCMRecommender<a class="anchor-link" href="#BUCMRecommender">¶</a></h5>
<pre><code>rec.recommender.class=bucm
rec.pgm.burnin=10
rec.pgm.samplelag=10

rec.iterator.maximum=100
rec.pgm.topic.number=10
rec.bucm.alpha=0.01
rec.bucm.beta=0.01
rec.bucm.gamma=0.01
# true for item ranking, false for rating prediction
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h5 id="ItemKNNRecommender">ItemKNNRecommender<a class="anchor-link" href="#ItemKNNRecommender">¶</a></h5>
<pre><code>rec.recommender.class=itemknn
# true for item ranking, false for rating prediction
rec.recommender.isranking=false
rec.recommender.ranking.topn=10
rec.recommender.similarities=item
rec.similarity.class=pcc
rec.neighbors.knn.number=50
rec.similarity.shrinkage=10</code></pre>
<h5 id="UserKNNRecommender">UserKNNRecommender<a class="anchor-link" href="#UserKNNRecommender">¶</a></h5>
<pre><code>rec.similarity.class=pcc
rec.neighbors.knn.number=50
rec.recommender.class=userknn
rec.recommender.similarities=user
# true for item ranking, false for rating prediction
rec.recommender.isranking=false
rec.recommender.ranking.topn=10
rec.filter.class=generic
rec.similarity.shrinkage=10</code></pre>
<h4 id="Content">Content<a class="anchor-link" href="#Content">¶</a></h4><h5 id="EFMRecommender">EFMRecommender<a class="anchor-link" href="#EFMRecommender">¶</a></h5>
<pre><code>data.input.path=efmtest/efm.txt
rec.recommender.class=efm
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.lambda.user=0.05
rec.recommender.lambda.item=0.05
rec.bias.regularization = 0.01</code></pre>
<h5 id="HFTRecommender">HFTRecommender<a class="anchor-link" href="#HFTRecommender">¶</a></h5>
<pre><code>data.input.path=hfttest/hft.txt/
rec.recommender.class=hft
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=2
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.eval.enable = 1
rec.recommender.lambda.user=0.05
rec.recommender.lambda.item=0.05
rec.bias.regularization = 0.01</code></pre>
<h4 id="Context(item-ranking)">Context(item ranking)<a class="anchor-link" href="#Context(item-ranking)">¶</a></h4><h5 id="SBPRRecommender">SBPRRecommender<a class="anchor-link" href="#SBPRRecommender">¶</a></h5>
<pre><code>data.appender.class=social
data.appender.path=test/test-append-dir

rec.recommender.class=sbpr
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=200
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.bias.regularization=0.01
rec.factor.number=128
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.earlystop=false
rec.recommender.verbose=true
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<h4 id="Context(rating-prediction)">Context(rating prediction)<a class="anchor-link" href="#Context(rating-prediction)">¶</a></h4><h5 id="BPTFRecommender">BPTFRecommender<a class="anchor-link" href="#BPTFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=bptf
rec.iteration.learnrate=0.01
rec.iterator.maximum=100</code></pre>
<h5 id="PITFRecommender">PITFRecommender<a class="anchor-link" href="#PITFRecommender">¶</a></h5>
<pre><code>rec.recommender.class=pitf
rec.iteration.learnrate=0.01
rec.iterator.maximum=100</code></pre>
<h5 id="RSTERecommender">RSTERecommender<a class="anchor-link" href="#RSTERecommender">¶</a></h5>
<pre><code>data.appender.class=social
data.appender.path=test/test-append-dir

rec.recommender.class=rste
rec.iterator.learnrate=0.05
rec.iterator.learnrate.maximum=0.05
rec.iterator.maximum=200
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.social.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.earlystop=false
rec.recommender.verbose=true
rec.user.social.ratio=0.8</code></pre>
<h5 id="SocialMFRecommender">SocialMFRecommender<a class="anchor-link" href="#SocialMFRecommender">¶</a></h5>
<pre><code>data.appender.class=social
data.appender.path=test/test-append-dir

rec.recommender.class=socialmf
rec.iterator.learnrate=0.05
rec.iterator.learnrate.maximum=0.05
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.social.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.earlystop=false
rec.recommender.verbose=true</code></pre>
<h5 id="SoRecRecommender">SoRecRecommender<a class="anchor-link" href="#SoRecRecommender">¶</a></h5>
<pre><code>data.appender.class=social
data.appender.path=test/test-append-dir

rec.recommender.class=sorec
rec.iterator.learnrate=0.05
rec.iterator.learnrate.maximum=0.05
rec.iterator.maximum=1000
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.rate.social.regularization=0.01
rec.user.social.regularization=0.01
rec.social.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.earlystop=false
rec.recommender.verbose=true</code></pre>
<h5 id="SoRegRecommender">SoRegRecommender<a class="anchor-link" href="#SoRegRecommender">¶</a></h5>
<pre><code>data.appender.class=social
data.appender.path=test/test-append-dir

rec.recommender.class=soreg
rec.recommender.similarities=social
rec.similarity.class=pcc
rec.iterator.learnrate=0.001
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=10
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.social.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.earlystop=false
rec.recommender.verbose=true
rec.similarity.shrinkage=10</code></pre>
<h5 id="TimeSVDRecommender">TimeSVDRecommender<a class="anchor-link" href="#TimeSVDRecommender">¶</a></h5>
<pre><code>rec.recommender.class=timesvd
data.column.format=UIRT
data.input.path=test/ratings-date.txt
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=100
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.learnrate.decay=1.0</code></pre>
<h5 id="TrustMFRecommender">TrustMFRecommender<a class="anchor-link" href="#TrustMFRecommender">¶</a></h5>
<pre><code>data.appender.class=social
data.appender.path=test/test-append-dir

rec.recommender.class=trustmf
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=30
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.social.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.earlystop=false
rec.recommender.verbose=true
rec.social.model=T</code></pre>
<h5 id="TrustSVDRecommender">TrustSVDRecommender<a class="anchor-link" href="#TrustSVDRecommender">¶</a></h5>
<pre><code>data.appender.class=social
data.appender.path=test/test-append-dir

rec.recommender.class=trustsvd
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=50
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.social.regularization=0.01
rec.bias.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.recommender.earlystop=false
rec.recommender.verbose=true</code></pre>
<h4 id="Extra">Extra<a class="anchor-link" href="#Extra">¶</a></h4><h5 id="AssociationRuleRecommender">AssociationRuleRecommender<a class="anchor-link" href="#AssociationRuleRecommender">¶</a></h5>
<pre><code>rec.recommender.class=associationrule</code></pre>
<h5 id="ExternalRecommender">ExternalRecommender<a class="anchor-link" href="#ExternalRecommender">¶</a></h5>
<pre><code>rec.recommender.class=external</code></pre>
<h5 id="PersonalityDiagnosisRecommender">PersonalityDiagnosisRecommender<a class="anchor-link" href="#PersonalityDiagnosisRecommender">¶</a></h5>
<pre><code>rec.recommender.class=personalitydiagnosis
rec.PersonalityDiagnosis.sigma=0.1</code></pre>
<h5 id="PRankDRecommender">PRankDRecommender<a class="anchor-link" href="#PRankDRecommender">¶</a></h5>
<pre><code>rec.recommender.class=prankd
rec.similarity.class=cos
rec.recommender.similarities=item
rec.similarity.shrinkage=10
rec.iterator.learnrate=0.01
rec.iterator.learnrate.maximum=0.01
rec.iterator.maximum=50
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learnrate.bolddriver=false
rec.learnrate.decay=1.0
rec.sim.filter=4.0</code></pre>
<h5 id="SlopeOneRecommender">SlopeOneRecommender<a class="anchor-link" href="#SlopeOneRecommender">¶</a></h5>
<pre><code>rec.recommender.class=slopeone
rec.eval.enable=true
rec.iterator.maximum=50
rec.factory.number=30
rec.iterator.learn.rate=0.001
rec.recommender.lambda.user=0.05
rec.recommender.lambda.item=0.05</code></pre>
<h4 id="Hybrid">Hybrid<a class="anchor-link" href="#Hybrid">¶</a></h4><h5 id="HybridRecommender">HybridRecommender<a class="anchor-link" href="#HybridRecommender">¶</a></h5>
<pre><code>rec.recommender.class=hybrid
rec.hybrid.lambda=0.1
rec.iterator.maximum=50
rec.factory.number=30
rec.iterator.learn.rate=0.001
rec.recommender.lambda.user=0.05
rec.recommender.lambda.item=0.05</code></pre>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="CommandLine-walkthrough">CommandLine walkthrough<a class="anchor-link" href="#CommandLine-walkthrough">¶</a></h1><p>在这里我们展示如何使用命令行来完成数据与模型的读取及保存, 以及使用命令行来输入参数进行推荐计算.</p>
<h2 id="Usage">Usage<a class="anchor-link" href="#Usage">¶</a></h2>
<pre><code>Usage: librec &lt;command&gt; [options]...
commands:
  rec                       run recommender
  data                      load data

global options:
  --help                    display this help text
  --exec                    run Recommender
  --version                 show Librec version info

job options:
  -conf &lt;file&gt;              path to config file
  -D, -jobconf &lt;prop&gt;       set configuration items (key=value)
  -libjars                  add entend jar files to classpath</code></pre>
<h2 id="Training">Training<a class="anchor-link" href="#Training">¶</a></h2>
<pre><code>./librec rec -exec -D rec.recommender.class=globalaverage -conf ../core/src/main/resources/rec/baseline/globalaverage-test.properties -libjars ../lib/log4j-1.2.17.jar</code></pre>
<p>rec/data 为指定程序进行推荐算法/数据读取功能.</p>
<p>-exec 为执行推荐算法.在2.0版本中为保留选项</p>
<p>-D | -jobconf [options] 为加载相关配置, 具体配置项请参考<a href="./ConfigurationLlist">ConfigurationList</a>及<a href="./AlgorithmList">AlgorithmList</a></p>
<p>-conf [path/to/properties] 加载配置文件</p>
<p>-libjars 为加载其他路径下的jar包到classpath中, 其中lib下的jar包自动加载, 当前脚本为示例</p>
<h2 id="Configuration-file">Configuration file<a class="anchor-link" href="#Configuration-file">¶</a></h2><p>LibRec中一个程序的配置文件分别保存在core/librec.properties和各自算法的独立配置文件内.其中librec.properties 推荐保存的配置为数据的读取分割以及评估.
示例配置如下所示</p>
<pre><code># set data directoy
dfs.data.dir=../data

# set result directory
# recommender result will output in this folder
dfs.result.dir=../result

# not implement in this version
# instead of printing logs in console
dfs.log.dir=../log

data.input.path=filmtrust
data.column.format=UIR
data.model.splitter=ratio
data.model.format=text
data.splitter.ratio=rating

# splitter, reference to basics.md
data.splitter.ratio=0.8
data.splitter.cv.number=5
rec.parallel.support=true

# setting evaluation, reference to basics.md
rec.eval.enable=true
rec.random.seed=1</code></pre>
<p>考虑到不同算法的配置项不相同, 因此算法配置项分别保存在相应目录下. 执行不同算法时可以在命令行输入, 也可以使用编辑好的配置文件.
具体每一配置项的内容以及不同算法的配置项请参考<a href="./AlgorithmList">AlgorithmList</a></p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Configuration-list">Configuration list<a class="anchor-link" href="#Configuration-list">¶</a></h1><div class="highlight"><pre><span></span><span class="c1"># set data directory</span>
<span class="n">dfs</span><span class="o">.</span><span class="n">data</span><span class="o">.</span><span class="n">dir</span><span class="o">=../</span><span class="n">data</span>
<span class="c1"># set result directory</span>
<span class="c1"># recommender result will output in this folder</span>
<span class="n">dfs</span><span class="o">.</span><span class="n">result</span><span class="o">.</span><span class="n">dir</span><span class="o">=../</span><span class="n">result</span>
<span class="c1"># set log directory</span>
<span class="n">dfs</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">dir</span><span class="o">=../</span><span class="n">log</span>

<span class="c1"># convertor</span>
<span class="c1"># load data and splitting data</span>
<span class="c1"># into two (or three) set</span>
<span class="c1"># setting dataset name</span>
<span class="n">data</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">path</span><span class="o">=</span><span class="n">filmtrust</span>
<span class="c1"># setting dataset format(UIR, UIRT)</span>
<span class="n">data</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">format</span><span class="o">=</span><span class="n">UIR</span>
<span class="c1"># setting method of split data</span>
<span class="c1"># value can be ratio, loocv, given, KCV</span>
<span class="n">data</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">splitter</span><span class="o">=</span><span class="n">ratio</span>
<span class="c1">#data.splitter.cv.number=5</span>
<span class="c1"># using rating to split dataset</span>
<span class="n">data</span><span class="o">.</span><span class="n">splitter</span><span class="o">.</span><span class="n">ratio</span><span class="o">=</span><span class="n">rating</span>
<span class="c1"># filmtrust dataset is saved by text</span>
<span class="c1"># text, arff is accepted</span>
<span class="n">data</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">format</span><span class="o">=</span><span class="n">text</span>
<span class="c1"># the ratio of trainset</span>
<span class="c1"># this value should in (0,1)</span>
<span class="n">data</span><span class="o">.</span><span class="n">splitter</span><span class="o">.</span><span class="n">trainset</span><span class="o">.</span><span class="n">ratio</span><span class="o">=</span><span class="mf">0.8</span>

<span class="c1"># Detailed configuration of loocv, given, KCV</span>
<span class="c1"># is written in User Guide</span>

<span class="c1"># set the random seed for reproducing the results (split data, init parameters and other methods using random)</span>
<span class="c1"># default is set 1l</span>
<span class="c1"># if do not set ,just use System.currentTimeMillis() as the seed and could not reproduce the results.</span>
<span class="n">rec</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="o">=</span><span class="mi">1</span>

<span class="c1"># binarize threshold mainly used in ranking</span>
<span class="c1"># -1.0 - maxRate, binarize rate into -1.0 and 1.0</span>
<span class="c1"># binThold = -1.0， do nothing</span>
<span class="c1"># binThold = value, rating &gt; value is changed to 1.0 other is 0.0, mainly used in ranking</span>
<span class="c1"># for PGM 0.0 maybe a better choose</span>
<span class="n">data</span><span class="o">.</span><span class="n">convert</span><span class="o">.</span><span class="n">binarize</span><span class="o">.</span><span class="n">threshold</span><span class="o">=-</span><span class="mf">1.0</span>

<span class="c1"># evaluation the result or not</span>
<span class="n">rec</span><span class="o">.</span><span class="n">eval</span><span class="o">.</span><span class="n">enable</span><span class="o">=</span><span class="n">true</span>

<span class="c1"># specifies evaluators</span>
<span class="c1"># rec.eval.classes=auc,precision,recall...</span>
<span class="c1"># if rec.eval.class is blank</span>
<span class="c1"># every evaluator will be calculated</span>
<span class="c1"># rec.eval.classes=auc,precision,recall</span>

<span class="c1"># evaluator value set is written in User Guide</span>
<span class="c1"># if this algorithm is ranking only true or false</span>
<span class="n">rec</span><span class="o">.</span><span class="n">recommender</span><span class="o">.</span><span class="n">isranking</span><span class="o">=</span><span class="n">false</span>

<span class="c1">#can use user,item,social similarity, default value is user, maximum values:user,item,social</span>
<span class="c1">#rec.recommender.similarities=user</span>
</pre></div>
<h2 id="others">others<a class="anchor-link" href="#others">¶</a></h2><h3 id="random">random<a class="anchor-link" href="#random">¶</a></h3><p>为了保证每次生成的结果是可以复现的, 随机数字的初始值通过配置项<code>rec.ramdom.seed</code>来设置
示例配置如下:</p>
<pre><code>rec.random.seed=1</code></pre>
<p>java示例代码如下</p>
<div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"rec.random.seed"</span><span class="o">,</span><span class="s">"1"</span><span class="o">);</span>
</pre></div>
<h3 id="verbose">verbose<a class="anchor-link" href="#verbose">¶</a></h3><p>对于部分推荐算法, 可以选择将每次迭代的学习情况打印输出. 涉及到的配置项为<code>rec.recommender.verbose</code>. 示例配置如下:</p>
<div class="highlight"><pre><span></span><span class="n">rec</span><span class="o">.</span><span class="na">recommender</span><span class="o">.</span><span class="na">verbose</span><span class="o">=</span><span class="kc">true</span>
</pre></div>
<p>java示例代码如下:</p>
<div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"rec.recommender.verbose"</span><span class="o">,</span><span class="s">"true"</span><span class="o">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Librec">Librec<a class="anchor-link" href="#Librec">¶</a></h1><p>LibRec(<a href="http://www.librec.net">http://www.librec.net</a>) 是领先的推荐系统Java开源算法工具库，覆盖了70余个各类型推荐算法，有效解决评分预测和物品推荐两大关键的推荐问题。推荐系统是机器学习和大数据技术的经典实际应用，旨在提供高效准确的个性化物品推荐。LibRec 2.0.0-RC版本在模块化、算法实现、灵活易用等多方面有极大的改善，推荐性能也得到进一步提高。</p>
<h2 id="[[Introduction]]">[[Introduction]]<a class="anchor-link" href="#[[Introduction]]">¶</a></h2><ul>
<li>Overview</li>
<li>Features</li>
<li>Getting started<ul>
<li>Clone source code from github</li>
<li>Run a recommender in console</li>
<li>Run a recommender in IDE</li>
<li>What happened</li>
</ul>
</li>
<li>Need Help?</li>
</ul>
<h2 id="[[CLI-walkthrough]]">[[CLI walkthrough]]<a class="anchor-link" href="#[[CLI-walkthrough]]">¶</a></h2><ul>
<li>Usage</li>
<li>Running</li>
<li>Configuration file</li>
</ul>
<h2 id="Build-in-dataset">Build-in dataset<a class="anchor-link" href="#Build-in-dataset">¶</a></h2><ul>
<li>[[Data file format]]<ul>
<li>Text</li>
<li>Arff</li>
</ul>
</li>
<li>[[FilmTrust]]</li>
</ul>
<h2 id="Modules">Modules<a class="anchor-link" href="#Modules">¶</a></h2><ul>
<li>[[DataModel]]<ul>
<li>Convertor</li>
<li>Splitter</li>
<li>Appender</li>
</ul>
</li>
<li>[[Recommender]]<ul>
<li>Similarity</li>
<li>Algorithms<ul>
<li>Probabilistic Graphical Recommender</li>
<li>Matrix Factorization Recommender</li>
<li>Factorization Machine Recommender</li>
<li>Social Recommender</li>
<li>Tensor Recommender</li>
</ul>
</li>
<li>Implement your own algorithm</li>
</ul>
</li>
<li>[[Evaluator]]</li>
<li>[[Filter]]</li>
</ul>
<h2 id="Appendix">Appendix<a class="anchor-link" href="#Appendix">¶</a></h2><ul>
<li>[[Algorithm list]]</li>
<li>[[Configuration list]]</li>
</ul>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="DataFileFormat">DataFileFormat<a class="anchor-link" href="#DataFileFormat">¶</a></h1><hr/>
<h2 id="Text">Text<a class="anchor-link" href="#Text">¶</a></h2><p>librec可以直接读取以文本形式保存的数据. 数据以n<em>3或者n</em>4的形式进行保存. 每一行为一个user-item-rating 或者 user-item-rating-date实体对. 不同栏之间使用空格或逗号进行分割.示例数据如下:
User-Item-Rating</p>
<pre><code>1050 215 3
1050 250 2
1050 251 2.5</code></pre>
<p>User-Item-Rating-Date</p>
<pre><code>1 1 2   97
1 1 3   75
1 1 4   76
1 4 3   87
1 5 4   96</code></pre>
<p>其中User-Item-Rating简写为UIR, User-Item-Rating-Date简写为UIRT.
当使用Text格式的数据来作为输入时, 对以下配置项进行配置</p>
<pre><code>data.model.format=text
data.column.format=UIR #or UIRT</code></pre>
<h2 id="Arff">Arff<a class="anchor-link" href="#Arff">¶</a></h2><p>当数据的关系列等于或者超过4维时,推荐使用Arff格式来进行保存.在ARff的头部声明定义数据集的名称. 之后分行声明每一列的名称以及数据类型. 示例数据如下:</p>
<pre><code>@RELATION user-movie

@ATTRIBUTE user NUMERIC
@ATTRIBUTE item NUMERIC
@ATTRIBUTE time NUMERIC
@ATTRIBUTE rating NUMERIC

@DATA
1,1,97,2
1,1,75,3
1,1,76,4
1,4,87,3
1,5,96,4
1,6,78,3.5
1,7,1,3.5</code></pre>
<p>Arff格式中以%开头为注释行, 声明的标示(@RELATION, @ATTRIBUTE, @DATA)为大小写不敏感.具体Arff数据格式的细节请参阅<a href="http://www.cs.waikato.ac.nz/ml/weka/arff.html">Attribute-Relation File Format</a></p>
<p>在LibRec中使用Arff格式的数据需要进行的配置如下</p>
<pre><code>data.model.format=arff</code></pre>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="DataModel">DataModel<a class="anchor-link" href="#DataModel">¶</a></h1><p>DataModel类用于对推荐算法所使用的数据进行准备. 主要完成对不同类型数据的读取, 组织结构 ,分割数据集, 根据配置项对数据进行二值化处理等.
相应的, 定义为DataModel类型的变量在指向子类的方法时, 需要传出Configuration类型的对象. 其中读取文件路径等配置项可以使用setConf来设置.
相应的, 在Java代码中, 可以根据读取数据类型直接生成对应的DataModel. 生成构造器的参数为Configuration的对象. 之后调用buildDataModel进行读取和分割.具体的数据读取过程与分割过程需要在调用buildDataModel之前通过setConf的方式传入对象中. 具体java代码如下</p>
<div class="highlight"><pre><span></span><span class="n">DataModel</span> <span class="n">dataModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextDataModel</span><span class="o">(</span><span class="n">conf</span><span class="o">);</span>
<span class="n">dataModel</span><span class="o">.</span><span class="na">buildDataModel</span><span class="o">();</span>
</pre></div>
<h2 id="1.-Convertor">1. Convertor<a class="anchor-link" href="#1.-Convertor">¶</a></h2><p>Convertor 读取的数据集文件夹路径通过dfs.data.dir配置项读取,数据集名称通过 data.input.path指定. 之后根据数据类型配置项读取文件夹下所有数据, 并以SparseTensor形式保存. data.column.path 用于指定数据集每一列的含义.data.convertor.binarize.threshold为而值化时所采用的阈值, 即当数值大于阈值时为1, 小于阈值时为0. 当阈值小于0时, 默认不进行二值化处理.
相关配置项示例:</p>
<pre><code>dfs.data.dir=../data
data.input.path=filmtrust # dataset name
data.column.format=UIR # user-item-rating
data.convert.binarize.threshold=-1.0
data.model.format=text</code></pre>
<p>LibRec还可以读取UIRT格式的数据, 示例配置项如下:</p>
<pre><code>dfs.data.dir=../data
data.input.path=filmtrust
data.column.format=UIRT
data.convertor.binarize.threshold=-1.0
data.model.format=text</code></pre>
<p>当数据列大于4时,需要使用arff格式的数据来进行存储. 相应的推荐配置项为</p>
<pre><code>dfs.data.dir=../data
data.input.path=arffsetname
data.model.format=arff</code></pre>
<p>在Java中的需要使用Configuration 类的set方法来依次写入对象.</p>
<div class="highlight"><pre><span></span><span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">,</span><span class="s">"../data"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.input.path"</span><span class="o">,</span><span class="s">"filmtrust"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.column.format"</span><span class="o">,</span><span class="s">"UIRT"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.conver.binariza.threshold"</span><span class="o">,</span><span class="s">"-1.0"</span><span class="o">);</span>
</pre></div>
<p>实现时可以使用DataModel完成全部操作操作, 也可以单独实例出Convertor对象用于读取数据. 进行读取以及获取相应数据的示例代码如下</p>
<div class="highlight"><pre><span></span><span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Configured</span><span class="o">.</span><span class="na">CONF_DATA_COLUMN_FORMAT</span><span class="o">,</span> <span class="s">"UIR"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"inputDataPath"</span><span class="o">,</span> <span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"/test/matrix4by4.txt"</span><span class="o">);</span>
<span class="n">textDataConvertor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextDataConvertor</span><span class="o">(</span><span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"inputDataPath"</span><span class="o">));</span>
<span class="n">textDataConvertor</span><span class="o">.</span><span class="na">processData</span><span class="o">();</span>

<span class="n">SparseMatrix</span> <span class="n">preference</span> <span class="o">=</span> <span class="n">textDataConvertor</span><span class="o">.</span><span class="na">getPreferenceMatrix</span><span class="o">();</span>
<span class="n">SparseMatrix</span> <span class="n">datetimeMatrix</span> <span class="o">=</span> <span class="n">textDataConvertor</span><span class="o">.</span><span class="na">getDatetimeMatrix</span><span class="o">();</span>
</pre></div>
<p>相对应的, 对Arff格式的数据进行读取需要实例ArffDataConvertor对象. 进行读取以及获取相应数据的示例代码如下:</p>
<div class="highlight"><pre><span></span><span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">,</span><span class="s">"../data"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"inputDataPath"</span><span class="o">,</span> <span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"/path/to.arff"</span><span class="o">);</span>
<span class="n">ArffDataConvertor</span> <span class="n">arffLoder</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArffDataConvertor</span><span class="o">(</span><span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"inputDataPath"</span><span class="o">));</span>
<span class="n">arffLoder</span><span class="o">.</span><span class="na">readData</span><span class="o">();</span>
<span class="n">SparseTensor</span> <span class="n">sparseTensor</span> <span class="o">=</span> <span class="n">arffLoder</span><span class="o">.</span><span class="na">getSparseTensor</span><span class="o">();</span>
<span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">ArffInstance</span><span class="o">&gt;</span> <span class="n">instances</span> <span class="o">=</span> <span class="n">arffLoder</span><span class="o">.</span><span class="na">getInstances</span><span class="o">();</span>
<span class="n">String</span> <span class="n">s1</span> <span class="o">=</span> <span class="n">arffLoder</span><span class="o">.</span><span class="na">getRelationName</span><span class="o">();</span>
<span class="n">String</span> <span class="n">s2</span> <span class="o">=</span> <span class="n">arffLoder</span><span class="o">.</span><span class="na">getAttributes</span><span class="o">().</span><span class="na">get</span><span class="o">(</span><span class="mi">0</span><span class="o">).</span><span class="na">getName</span><span class="o">();</span>
</pre></div>
<h2 id="2.-Splitter">2. Splitter<a class="anchor-link" href="#2.-Splitter">¶</a></h2><p>LibRec中含有数据的划分方式共五类, 将数据集根据一定比例划分为训练集与测试集(及验证集), 留出其中一个作为验证, 给定N个作为验证, K折交叉验证, 以及测试数据集与训练数据集等五种方式. 其中部分分割方式又含有基于user或item等其他分割方式.</p>
<h3 id="2.1-ratio">2.1 ratio<a class="anchor-link" href="#2.1-ratio">¶</a></h3><p>根据比例来进行划分数据集.</p>
<pre><code>data.model.splitter=ratio
data.splitter.ratio=rating # by rating
data.splitter.trainset.ratio=0.8 # resting data used as test set</code></pre>
<p>在Java中示例代码如下:</p>
<div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.ratio"</span><span class="o">,</span> <span class="s">"rating"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.trainset.ratio"</span><span class="o">,</span> <span class="s">"0.8"</span><span class="o">);</span>

<span class="c1">// TextDataConvertor convertor = new TextDataConvertor(args)</span>
<span class="n">convertor</span><span class="o">.</span><span class="na">processData</span><span class="o">();</span>
<span class="n">RatioDataSplitter</span> <span class="n">splitter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RatioDataSplitter</span><span class="o">(</span><span class="n">convertor</span><span class="o">,</span> <span class="n">conf</span><span class="o">);</span>
<span class="n">splitter</span><span class="o">.</span><span class="na">splitData</span><span class="o">();</span>
</pre></div>
<p>其中data.splitter.ratio的配置可以使用rating, user, userfixed, item, valid, ratingdate, userdate, itemdate. userfixed在数据量较小时可以获得更精确的划分结果. 使用valid时还需要指定data.splitter.validset.ratio. 附带有date的方法为根据数据量在date序列上进行划分. 在时间数值上较大的划分为testset, 时间数值较小的划分为trainset.</p>
<h3 id="2.2-loocv">2.2 loocv<a class="anchor-link" href="#2.2-loocv">¶</a></h3><p>随机留出一位或者留出最后一位user或者item来作为测试数据, 剩下的数据作为训练数据</p>
<pre><code>data.model.splitter=loocv
data.splitter.loocv=user</code></pre>
<p>在Java中示例代码如下:</p>
<div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.loocv"</span><span class="o">,</span> <span class="s">"user"</span><span class="o">);</span>
<span class="n">convertor</span><span class="o">.</span><span class="na">processData</span><span class="o">();</span>

<span class="n">LOOCVDataSplitter</span> <span class="n">splitter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">LOOCVDataSplitter</span><span class="o">(</span><span class="n">convertor</span><span class="o">,</span> <span class="n">conf</span><span class="o">);</span>
<span class="n">splitter</span><span class="o">.</span><span class="na">splitData</span><span class="o">();</span>
</pre></div>
<p>其中data.splitter.loocv的配置可以使用user, item, userdate, itemdate. 附带date的配置会先按时间顺序进行排序，选取每个user或item最新的评分记录组成测试集。</p>
<h3 id="2.3-givenn">2.3 givenn<a class="anchor-link" href="#2.3-givenn">¶</a></h3><p>保留n个user或item作为测试数据, 剩下的数据作为训练数据.</p>
<pre><code>data.model.splitter=givenn
data.splitter.givenn=user
data.splitter.givenn.n=10</code></pre>
<p>在Java中, 示例代码如下</p>
<div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.givenn"</span><span class="o">,</span> <span class="s">"user"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.givenn.n"</span><span class="o">,</span> <span class="s">"1"</span><span class="o">);</span>
<span class="n">convertor</span><span class="o">.</span><span class="na">processData</span><span class="o">();</span>

<span class="n">GivenNDataSplitter</span> <span class="n">splitter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GivenNDataSplitter</span><span class="o">(</span><span class="n">convertor</span><span class="o">,</span> <span class="n">conf</span><span class="o">);</span>
<span class="n">splitter</span><span class="o">.</span><span class="na">splitData</span><span class="o">();</span>
</pre></div>
<p>其中data.splitter.givenn的配置可以使用user, item, userdate, itemdate.</p>
<h3 id="2.4-kcv">2.4 kcv<a class="anchor-link" href="#2.4-kcv">¶</a></h3><p>K折交叉验证. 即将数据集划分为K份, 每次选择其中一份作为测试数据集, 余下数据作为验证数据集, 共进行K次.每次会进行一次评估, 在K折结束之后会再次对K折计算结果进行一次评估.</p>
<pre><code>data.model.splitter=kcv
data.splitter.cv.number=5 # K-fold</code></pre>
<p>在Java中, 示例代码如下</p>
<div class="highlight"><pre><span></span><span class="n">convertor</span><span class="o">.</span><span class="na">processData</span><span class="o">();</span>
<span class="n">KCVDataSplitter</span> <span class="n">splitter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">KCVDataSplitter</span><span class="o">(</span><span class="n">convertor</span><span class="o">,</span> <span class="n">conf</span><span class="o">);</span>

<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="mi">6</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
  <span class="c1">// split into 5 parts by default</span>
  <span class="n">splitter</span><span class="o">.</span><span class="na">splitFolds</span><span class="o">();</span>
  <span class="n">splitter</span><span class="o">.</span><span class="na">splitData</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
<h3 id="2.5-testset">2.5 testset<a class="anchor-link" href="#2.5-testset">¶</a></h3><p>预留出部分数据集作为测试数据集. 这里需要设置配置项<code>data.testset.path</code>也就是指定预留出测试数据的路径. 这个路径要在训练数据的路径之下. 也就是说, 在读取所有数据时, 预留出的测试数据也应该被读取到.</p>
<pre><code>data.model.splitter=testset
data.testset.path=nameoftestfile/dir</code></pre>
<p>其中Java示例代码如下</p>
<div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"inputDataPath"</span><span class="o">,</span> <span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"/given-testset"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">Configured</span><span class="o">.</span><span class="na">CONF_DATA_COLUMN_FORMAT</span><span class="o">,</span> <span class="s">"UIR"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.testset.path"</span><span class="o">,</span> <span class="s">"/given-testset/test/ratings_0.txt"</span><span class="o">);</span>
<span class="n">convertor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextDataConvertor</span><span class="o">(</span><span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Configured</span><span class="o">.</span><span class="na">CONF_DATA_COLUMN_FORMAT</span><span class="o">),</span> <span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"inputDataPath"</span><span class="o">));</span>
<span class="n">convertor</span><span class="o">.</span><span class="na">processData</span><span class="o">();</span>
<span class="n">GivenTestSetDataSplitter</span> <span class="n">splitter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GivenTestSetDataSplitter</span><span class="o">(</span><span class="n">convertor</span><span class="o">,</span><span class="n">conf</span><span class="o">);</span>
<span class="n">splitter</span><span class="o">.</span><span class="na">splitData</span><span class="o">();</span>
</pre></div>
<h2 id="3.-Appender">3. Appender<a class="anchor-link" href="#3.-Appender">¶</a></h2><p>部分算法(如rste算法)需要引入不同user或者不同item之间的关系矩阵, 因此在LibRec中实现了针对于user-user-relation 或者item-item-relation 的数据读取类.在配置文件中需要增加对配置项<code>data.appender.class</code>与<code>data.appender.path</code>的配置.</p>
<p>通过文件的示例配置如下</p>
<div class="highlight"><pre><span></span><span class="n">data</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">class</span><span class="o">=</span><span class="n">social</span>
<span class="n">data</span><span class="o">.</span><span class="na">appender</span><span class="o">.</span><span class="na">path</span><span class="o">=</span><span class="n">directory</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">relationData</span>
</pre></div>
<p>在Java中, 示例代码如下:</p>
<div class="highlight"><pre><span></span><span class="n">String</span> <span class="n">inputPath</span> <span class="o">=</span> <span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">)</span> <span class="o">+</span> <span class="s">"/"</span> <span class="o">+</span> <span class="n">conf</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">"data.input.path"</span><span class="o">);</span>
<span class="n">TextDataConvertor</span> <span class="n">textDataConvertor</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextDataConvertor</span><span class="o">(</span><span class="n">inputPath</span><span class="o">);</span>
<span class="n">textDataConvertor</span><span class="o">.</span><span class="na">processData</span><span class="o">();</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.appender.path"</span><span class="o">,</span> <span class="s">"test/datamodeltest/trust.txt"</span><span class="o">);</span>
<span class="n">SocialDataAppender</span> <span class="n">dataFeatrue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SocialDataAppender</span><span class="o">(</span><span class="n">conf</span><span class="o">);</span>
<span class="n">dataAppender</span><span class="o">.</span><span class="na">setUserMappingData</span><span class="o">(</span><span class="n">textDataConvertor</span><span class="o">.</span><span class="na">getUserIds</span><span class="o">());</span>
<span class="n">dataAppender</span><span class="o">.</span><span class="na">processData</span><span class="o">();</span>
</pre></div>
<h2 id="4.-Java-code-Snippet">4. Java code Snippet<a class="anchor-link" href="#4.-Java-code-Snippet">¶</a></h2><p>如果用于LibRec中的算法, 直接通过conf来设定参数并用于生成相应的DataModel是比较合理的做法. 对于Text与Arff格式的数据可以分别实例相应的DataModel来进行读取.具体实现方式如下:</p>
<div class="highlight"><pre><span></span><span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">,</span><span class="s">"../data"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.input.path"</span><span class="o">,</span><span class="s">"filmtrust"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.column.format"</span><span class="o">,</span><span class="s">"UIRT"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.convertor.binariza.threshold"</span><span class="o">,</span><span class="s">"-1.0"</span><span class="o">);</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.model.splitter"</span><span class="o">,</span><span class="s">"ratio"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.ratio"</span><span class="o">,</span><span class="s">"rating"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.trainset.ratio"</span><span class="o">,</span><span class="s">"0.8"</span><span class="o">);</span>

<span class="n">DataModel</span> <span class="n">dataModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextDataModel</span><span class="o">(</span><span class="n">conf</span><span class="o">);</span>
<span class="n">dataModel</span><span class="o">.</span><span class="na">buildDataModel</span><span class="o">();</span>
</pre></div>
<p>arff格式的实例如下:</p>
<div class="highlight"><pre><span></span><span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">,</span><span class="s">"../data"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.input.path"</span><span class="o">,</span><span class="s">"filmtrust"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.column.format"</span><span class="o">,</span><span class="s">"UIR"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.convertor.binariza.threshold"</span><span class="o">,</span><span class="s">"-1.0"</span><span class="o">);</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.model.splitter"</span><span class="o">,</span><span class="s">"ratio"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.ratio"</span><span class="o">,</span><span class="s">"rating"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.trainset.ratio"</span><span class="o">,</span><span class="s">"0.8"</span><span class="o">);</span>

<span class="n">DataModel</span> <span class="n">dataModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArffDataModel</span><span class="o">(</span><span class="n">conf</span><span class="o">);</span>
<span class="n">dataModel</span><span class="o">.</span><span class="na">buildDataModel</span><span class="o">();</span>
</pre></div>
<p>如果分割方式采用KCV或者Loocv等方式, 在分割数据集之前, 还需要设置测试集的索引. 示例如下</p>
<div class="highlight"><pre><span></span><span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">,</span><span class="s">"../data"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.input.path"</span><span class="o">,</span><span class="s">"filmtrust"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.column.format"</span><span class="o">,</span><span class="s">"UIR"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.convertor.binariza.threshold"</span><span class="o">,</span><span class="s">"-1.0"</span><span class="o">);</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.model.splitter"</span><span class="o">,</span><span class="s">"kcv"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.cv.number"</span><span class="o">,</span><span class="s">"5"</span><span class="o">)</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.splitter.cv.index"</span><span class="o">,</span><span class="s">"1"</span><span class="o">)</span>
<span class="n">DataModel</span> <span class="n">dataModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextDataModel</span><span class="o">(</span><span class="n">conf</span><span class="o">);</span>
<span class="n">dataModel</span><span class="o">.</span><span class="na">buildDataModel</span><span class="o">();</span>
</pre></div>
<p>其中配置项data.splitter.cv.index的取值范围为1到data.splitter.cv.number. 之后执行算法时, 只是针对于当前这次训练集测试集合进行计算. 因此如果要统计所有次的结果, 还需要实现循环来分别设置配置项<code>"data.splitter.cv.index"</code>并进行分割执行算法.</p>
<p>相应的引入Appender矩阵的, 只用加上相应的配置项即可. 不再单独列出.</p>
<p>在数据读取过程中, 会检测是否已经进行的数据读取, 如果已经读取则不再进行读取和分割. 因此在同一次运行多次执行buildDataModel会重新索引训练集和测试集但是不会重新读取和分割.</p>
<p>目前针对于DataModel没有设置以Convertor和Splitter为参数的构造器以及set方法, 因此单独生成的Convertor, Splitter, 与Appender实例不能传入到DataModel中.</p>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Evaluator">Evaluator<a class="anchor-link" href="#Evaluator">¶</a></h1><p>RecommenderEvaluator接口用于实现对特定算法的评估. 目前实现对于ranking的评估器有AUC, AveragePrecision, AverageReciprocalHitRank, Diversity, HitRate, IdealDCG, Normalized, Precision, Recall, REciprocalRank十类评估器. 对于rating实现评估器MAE, MPE, MSE, RMSE四类.</p>
<p>若在配置文件中不进行评估器的指定, 最终评估时使用对应类型的全部评估器.</p>
<p>指定评估器的配置示例:</p>
<p>rating:</p>
<pre><code>rec.recommender.isranking=false
rec.eval.enable=true
rec.eval.class=mse # if rating</code></pre>
<p>ranking:</p>
<pre><code>rec.recommender.isranking=true
rec.eval.enable=true
rec.eval.class=auc
rec.recommender.ranking.topn=10</code></pre>
<p>不同评估器相应的简写见下表</p>
<table>
<thead><tr>
<th style="text-align:center">Evaluator</th>
<th style="text-align:center">configuration</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">AUCEvaluator</td>
<td style="text-align:center">auc</td>
</tr>
<tr>
<td style="text-align:center">AveragePrecisionEvaluator</td>
<td style="text-align:center">ap</td>
</tr>
<tr>
<td style="text-align:center">AverageReciprocalHitRankEvaluator</td>
<td style="text-align:center">arhr</td>
</tr>
<tr>
<td style="text-align:center">DiversityEvaluator</td>
<td style="text-align:center">diversity</td>
</tr>
<tr>
<td style="text-align:center">HitRateEvaluator</td>
<td style="text-align:center">hitrate</td>
</tr>
<tr>
<td style="text-align:center">IdealDCGEvaluator</td>
<td style="text-align:center">idcg</td>
</tr>
<tr>
<td style="text-align:center">NormalizedDCGEvaluator</td>
<td style="text-align:center">ndcg</td>
</tr>
<tr>
<td style="text-align:center">PrecisionEvaluator</td>
<td style="text-align:center">precision</td>
</tr>
<tr>
<td style="text-align:center">RecallEvaluator</td>
<td style="text-align:center">recall</td>
</tr>
<tr>
<td style="text-align:center">ReciprocalRankEvaluator</td>
<td style="text-align:center">rr</td>
</tr>
<tr>
<td style="text-align:center">MAEEvaluator</td>
<td style="text-align:center">mae</td>
</tr>
<tr>
<td style="text-align:center">MPEEvaluator</td>
<td style="text-align:center">mpe</td>
</tr>
<tr>
<td style="text-align:center">MSEEvaluator</td>
<td style="text-align:center">mse</td>
</tr>
<tr>
<td style="text-align:center">RMSEEvaluator</td>
<td style="text-align:center">rmse</td>
</tr>
</tbody>
</table>
<p>注意, 在评估器进行配置时, 对于rating的算法如果配置ranking的评估期, 可能最后也会生成结果, 但是此评估结果不具有意义, 亦无法与其他算法进行比较.
与rating相比, 使用ranking算法还需要配置rec.recommender.ranking.topn.</p>
<p>在使用java进行实现评估器时, 评估器的实例作为Recommender类中evaluate方法的参数传入Recommender的对象中. 其中Recommender的对象可以为不同的推荐算法. 而RecommenderEvaluator的实例也可以使用不同的评估器. 在Java中也可以采用多种不同的评估器来对结果进行评估, 只需生成相应的评估器即可.
示例代码如下:</p>
<div class="highlight"><pre><span></span><span class="n">RecommenderEvaluator</span> <span class="n">evaluator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MAEEvaluator</span><span class="o">();</span>
<span class="kt">double</span> <span class="n">evalValue</span> <span class="o">=</span> <span class="n">recommender</span><span class="o">.</span><span class="na">evaluate</span><span class="o">(</span><span class="n">evaluator</span><span class="o">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="FilmTrust">FilmTrust<a class="anchor-link" href="#FilmTrust">¶</a></h1><p>FilmTrust为2011年从网站<a href="http://trust.mindswap.org/FilmTrust/">FilmTrust</a> 完整抓取下来的数据集.</p>
<p>本数据集由两部分组成：ratings.txt 和 trust.txt.其中
ratings.txt包含35497条数据, 保存形式为 userid, movieid, movieRating
trust.txt包含1853条数据，保存形式为 trustorId, trusteeId, trustRating</p>
<pre><code>@INPROCEEDINGS{guo2013novel,
   author = {Guo, G. and Zhang, J. and Yorke-Smith, N.},
   title = {A Novel Bayesian Similarity Measure for Recommender Systems},
   booktitle = {Proceedings of the 23rd International Joint Conference on Artificial Intelligence (IJCAI)},
   year = {2013},
   pages = {2619-2625}
}</code></pre>
<p>在配置文件中配置使用该文件的配置项为</p>
<pre><code># set data directory
dfs.data.dir=../data

# setting dataset name
data.input.path=filmtrust</code></pre>
<p>在java程序中配置方法为</p>
<div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"dfs.data.dir"</span><span class="o">,</span> <span class="s">"../data"</span><span class="o">)</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"data.input.path"</span><span class="o">,</span> <span class="s">"filmtrust"</span><span class="o">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Filter">Filter<a class="anchor-link" href="#Filter">¶</a></h1><p>Filter可以在评估时根据一定规则来过滤掉部分数据。
Filter的过滤对象是由recommender产生的recommendedList，recommendedList由一组recommendedItem构成，每个recommendedItem表示为一个三元组:(userId itemId value)。
目前支持的过滤器为GenericRecommendedFilter，其功能是返回recommendedList中包含指定userId或itemId的recommendedItem，指定的userId和itemId在GenericRecommendedFilter中以列表的形式提前设置。
目前Filter仅支持在Java代码中使用.</p>
<p>GenericRecommendedFilter过滤效果:</p>
<pre><code>userIdList = {"1", "2"}
recommendedList = {
    {userId:1 itemId:1 value:1.0},
    {userId:1 itemId:2 value:2.0},
    {userId:1 itemId:3 value:3.0},
    {userId:2 itemId:1 value:4.0},
    {userId:2 itemId:2 value:5.0},
    {userId:2 itemId:3 value:6.0},
    {userId:3 itemId:1 value:7.0},
    {userId:3 itemId:2 value:8.0},
    {userId:3 itemId:3 value:9.0}
}
filtered recommendedList = {
    {userId:1 itemId:2 value:2.0},
    {userId:2 itemId:3 value:6.0},
    {userId:1 itemId:1 value:1.0},
    {userId:2 itemId:1 value:4.0},
    {userId:2 itemId:2 value:5.0},
    {userId:1 itemId:3 value:3.0}
}</code></pre>
<p>GenericRecommendedFilter使用示例:</p>
<div class="highlight"><pre><span></span><span class="c1">// specify the userIds and itemIds for filter</span>
<span class="n">userIdList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="n">itemIdList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
<span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="o">;</span> <span class="n">i</span><span class="o">&lt;=</span><span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
    <span class="n">userIdList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="n">i</span><span class="o">));</span>
    <span class="n">itemIdList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">Integer</span><span class="o">.</span><span class="na">toString</span><span class="o">(</span><span class="mi">4</span><span class="o">-</span><span class="n">i</span><span class="o">));</span>
<span class="o">}</span>

<span class="c1">// generate recommendedList by recommender</span>
<span class="n">Configuration</span> <span class="n">conf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Configuration</span><span class="o">();</span>
<span class="n">Resource</span> <span class="n">resource</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Resource</span><span class="o">(</span><span class="s">"rec/cf/userknn-test.properties"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">addResource</span><span class="o">(</span><span class="n">resource</span><span class="o">);</span>
<span class="n">DataModel</span> <span class="n">dataModel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TextDataModel</span><span class="o">(</span><span class="n">conf</span><span class="o">);</span>
<span class="n">dataModel</span><span class="o">.</span><span class="na">buildDataModel</span><span class="o">();</span>
<span class="n">RecommenderContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RecommenderContext</span><span class="o">(</span><span class="n">conf</span><span class="o">,</span> <span class="n">dataModel</span><span class="o">);</span>
<span class="n">RecommenderSimilarity</span> <span class="n">similarity</span> <span class="o">=</span> <span class="k">new</span> <span class="n">PCCSimilarity</span><span class="o">();</span>
<span class="n">similarity</span><span class="o">.</span><span class="na">buildSimilarityMatrix</span><span class="o">(</span><span class="n">dataModel</span><span class="o">);</span>
<span class="n">context</span><span class="o">.</span><span class="na">setSimilarity</span><span class="o">(</span><span class="n">similarity</span><span class="o">);</span>
<span class="n">Recommender</span> <span class="n">recommender</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserKNNRecommender</span><span class="o">();</span>
<span class="n">recommender</span><span class="o">.</span><span class="na">setContext</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
<span class="n">recommender</span><span class="o">.</span><span class="na">recommend</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">RecommendedItem</span><span class="o">&gt;</span> <span class="n">recommendedItemList</span> <span class="o">=</span> <span class="n">recommender</span><span class="o">.</span><span class="na">getRecommendedList</span><span class="o">();</span>

<span class="c1">// filter the recommendedList with GenericRecommendedFilter</span>
<span class="n">GenericRecommendedFilter</span> <span class="n">filter</span> <span class="o">=</span> <span class="k">new</span> <span class="n">GenericRecommendedFilter</span><span class="o">();</span>
<span class="n">filter</span><span class="o">.</span><span class="na">setUserIdList</span><span class="o">(</span><span class="n">userIdList</span><span class="o">);</span>
<span class="n">filter</span><span class="o">.</span><span class="na">setItemIdList</span><span class="o">(</span><span class="n">itemIdList</span><span class="o">);</span>
<span class="n">recommendedItemList</span> <span class="o">=</span> <span class="n">filter</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">recommendedItemList</span><span class="o">);</span>
</pre></div>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Librec-Document">Librec Document<a class="anchor-link" href="#Librec-Document">¶</a></h1><hr/>
<h1 id="introduce-to-Librec">introduce to Librec<a class="anchor-link" href="#introduce-to-Librec">¶</a></h1><h2 id="Overview">Overview<a class="anchor-link" href="#Overview">¶</a></h2><p>LibRec 是一个基于java 1.7以GPL-3.0协议发布的开源推荐系统. LibRec内包含大量推荐算法并可以通过这些算法快速解决rating和ranking问题. 目前LibRec已被RecSys wiki收录.</p>
<p>与1.4相比, 2.0版本重新程序的整体结构, 接口更加合理, 可扩展性更强. 对于已经实现的程序, 可以使用命令行和参数或者配置文件来执行. 开发新推荐算法可以通过继承相应的抽象类来实现.</p>
<p>因Librec中系统结构发生变化, 对于1.4中实现的算法, 需要做以下调整来适配LibRec 2.0:</p>
<h2 id="QuickStart">QuickStart<a class="anchor-link" href="#QuickStart">¶</a></h2><h3 id="getting-LibRec">getting LibRec<a class="anchor-link" href="#getting-LibRec">¶</a></h3><h3 id="Run-examples-in-shell">Run examples in shell<a class="anchor-link" href="#Run-examples-in-shell">¶</a></h3><p>Linux And MAC:</p>
<div class="highlight"><pre><span></span>bash librec rec -exec -conf ../core/src/mian/resources/rec/baseline/usercluster-test.properties
</pre></div>
<p>Windows:</p>
<h3 id="Command-Line-Usage">Command Line Usage<a class="anchor-link" href="#Command-Line-Usage">¶</a></h3><p>librec.sh [CATEGORY] -exec [OPTIONS]
  where CATEGORY is one of:
    data:
    rec:
  OPTIONS:
  -load
  -save
  -D|-jobconf:
  -conf
  -libjars</p>
<h3 id="using-property-file-to-configure-settings">using property file to configure settings<a class="anchor-link" href="#using-property-file-to-configure-settings">¶</a></h3><p>Librec通过properties格式来定义配置文件.
数据的读取以及数据集划分算法等可以直接在driver.classes.props进行定义
不同推荐系统的个性化推荐算法可以通过配置项定义之后, 可以使用-conf来进行加载</p>
<h3 id="include-librec-on-other-project">include librec on other project<a class="anchor-link" href="#include-librec-on-other-project">¶</a></h3><h1 id="learning-more-about-LibRec">learning more about LibRec<a class="anchor-link" href="#learning-more-about-LibRec">¶</a></h1><h2 id="LibRec-Basics">LibRec Basics<a class="anchor-link" href="#LibRec-Basics">¶</a></h2><h3 id="brief-summary-of-LibRec-structure">brief summary of LibRec structure<a class="anchor-link" href="#brief-summary-of-LibRec-structure">¶</a></h3><p>librec保存在</p>
<h2 id="Data-propercess-pipeline">Data propercess pipeline<a class="anchor-link" href="#Data-propercess-pipeline">¶</a></h2><h3 id="prepare-data">prepare data<a class="anchor-link" href="#prepare-data">¶</a></h3><h4 id="data-structure">data structure<a class="anchor-link" href="#data-structure">¶</a></h4><p>稀疏矩阵保存时同时以CSR与CSC的格式保存</p>
<h4 id="loading-data">loading data<a class="anchor-link" href="#loading-data">¶</a></h4><p>读取数据的类为Convertor, 通过readData方法来进行数据的读取,相关的配置文件示例如下:</p>
<h4 id="splitting-data">splitting data<a class="anchor-link" href="#splitting-data">¶</a></h4><p>目前项目中分别实现了通过ratio进行数据分割, K折交叉验证, leave-one-out, 与GivenN四种分割方式. 配置文件实例如下:</p>
<h3 id="running-an-algorithms">running an algorithms<a class="anchor-link" href="#running-an-algorithms">¶</a></h3><h4 id="setting-similarity">setting similarity<a class="anchor-link" href="#setting-similarity">¶</a></h4><h4 id="choose-one-recommender-algorithm">choose one recommender algorithm<a class="anchor-link" href="#choose-one-recommender-algorithm">¶</a></h4><p>目前有基于矩阵分解等推荐算法共六十余种,</p>
<h4 id="evaluate-the-result">evaluate the result<a class="anchor-link" href="#evaluate-the-result">¶</a></h4><p>librec对于rating的算法实现了MAE, MPE, MSE, RMSE四种评估算法
对ranking算法实现了AUE, AveragePrecision等十种评估算法</p>
<h1 id="recommand-algorithms">recommand algorithms<a class="anchor-link" href="#recommand-algorithms">¶</a></h1><h2 id="baseline">baseline<a class="anchor-link" href="#baseline">¶</a></h2><h2 id="ranking">ranking<a class="anchor-link" href="#ranking">¶</a></h2><h2 id="rating">rating<a class="anchor-link" href="#rating">¶</a></h2><h2 id="content">content<a class="anchor-link" href="#content">¶</a></h2><h2 id="Other-important-package">Other important package<a class="anchor-link" href="#Other-important-package">¶</a></h2><h3 id="io">io<a class="anchor-link" href="#io">¶</a></h3><h3 id="JobStatus">JobStatus<a class="anchor-link" href="#JobStatus">¶</a></h3><h3 id="Reflection">Reflection<a class="anchor-link" href="#Reflection">¶</a></h3><p>librec通过property配置项来读取并生成相应的类</p>
<h1 id="Complete-other-algorithms">Complete other algorithms<a class="anchor-link" href="#Complete-other-algorithms">¶</a></h1><p>在librec中, 推荐算法的的原理被分为以下几类, 基于矩阵分解, 基于因子分解, 基于概率图模型, 基于张量. 实现的推荐算法可以根据相应类别继承自相应抽象类, 也可以直接继承AbstractRecommender抽象类.</p>
<h1 id="Librec-API-Documents">Librec API Documents<a class="anchor-link" href="#Librec-API-Documents">¶</a></h1><h1 id="Frequently-Asked-Questions">Frequently Asked Questions<a class="anchor-link" href="#Frequently-Asked-Questions">¶</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Recommender">Recommender<a class="anchor-link" href="#Recommender">¶</a></h1><h2 id="Similarity">Similarity<a class="anchor-link" href="#Similarity">¶</a></h2><p>相似性矩阵用于构建数据集中user-user或者item-item之间的距离.
在使用命令行配置时, 示例配置如下:</p>
<pre><code>rec.similarity.class=cos
rec.recommender.similarities=user</code></pre>
<p>其中<code>rec.similarity.class</code>为指定相应的距离度量函数. <code>rec.recommender.similarities</code>为指定user-user之间的距离或者item-item之间的距离. 在Social类的推荐方法中, 还可以指定计算social-social之间的距离.</p>
<p>在Java程序中, 相应的示例程序如下</p>
<div class="highlight"><pre><span></span><span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"rec.recommender.similarities"</span><span class="o">,</span><span class="s">"user"</span><span class="o">);</span>
<span class="n">RecommenderSimilarity</span> <span class="n">similarity</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CosineSimilarity</span><span class="o">();</span>
<span class="n">similarity</span><span class="o">.</span><span class="na">buildSimilarityMatrix</span><span class="o">(</span><span class="n">dataModel</span><span class="o">);</span>
</pre></div>
<p>生成RecommenderSimilarity对象之后, 还需要调用buildSimilarityMatrix方法来进行相似度矩阵的计算.</p>
<p>下表为LibRec中已经实现的距离度量算法以及相应的简写.</p>
<table>
<thead><tr>
<th style="text-align:center">Similarity</th>
<th style="text-align:center">shortname</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">BinaryCosineSimilarity</td>
<td style="text-align:center">bcos</td>
</tr>
<tr>
<td style="text-align:center">CosineSimilarity</td>
<td style="text-align:center">cos</td>
</tr>
<tr>
<td style="text-align:center">CPCSimilarity</td>
<td style="text-align:center">cpc</td>
</tr>
<tr>
<td style="text-align:center">MSESimilarity</td>
<td style="text-align:center">msesim</td>
</tr>
<tr>
<td style="text-align:center">MSDSimilarity</td>
<td style="text-align:center">msd</td>
</tr>
<tr>
<td style="text-align:center">PCCSimilarity</td>
<td style="text-align:center">pcc</td>
</tr>
<tr>
<td style="text-align:center">KRCCSimilarity</td>
<td style="text-align:center">krcc</td>
</tr>
<tr>
<td style="text-align:center">DiceCoefficientSimilarity</td>
<td style="text-align:center">dice</td>
</tr>
<tr>
<td style="text-align:center">JaccardSimilarity</td>
<td style="text-align:center">jaccard</td>
</tr>
<tr>
<td style="text-align:center">ExJaccardSimilarity</td>
<td style="text-align:center">exjaccard</td>
</tr>
</tbody>
</table>
<h2 id="Algorithms">Algorithms<a class="anchor-link" href="#Algorithms">¶</a></h2><p>在使用配置项和命令行运行LibRec时, 执行的推荐算法由配置项<code>rec.recommender.class</code>指定.配置如下</p>
<pre><code>rec.recommender.class=shortname #e.g. aobpr</code></pre>
<p>不同算法的简写请参阅<a href="./Algorithm list">Algorithm list.md</a></p>
<p>在java实现中, 实例Configuration对象, DataModel对象, Similarity矩阵对象之后, 作为RecommenderContext的构造器参数生成RecommenderContext的对象. 此处可以直接实例相应的推荐算法类, 因此无需设置配置项<code>rec.recommedner.class</code>. 示例代码如下:</p>
<div class="highlight"><pre><span></span><span class="n">RecommenderContext</span> <span class="n">context</span> <span class="o">=</span> <span class="k">new</span> <span class="n">RecommenderContext</span><span class="o">(</span><span class="n">conf</span><span class="o">,</span> <span class="n">dataModel</span><span class="o">,</span> <span class="n">similarity</span><span class="o">);</span>

<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"rec.neighbors.knn.number"</span><span class="o">,</span><span class="s">"50"</span><span class="o">);</span>
<span class="n">conf</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">"rec.recommender.isranking=false"</span><span class="o">);</span>

<span class="n">Recommender</span> <span class="n">recommender</span> <span class="o">=</span> <span class="k">new</span> <span class="n">UserKNNRecommender</span><span class="o">();</span>
<span class="n">recommender</span><span class="o">.</span><span class="na">recommend</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
</pre></div>
<p>推荐算法根据不同的计算方式具有各自相应的配置项. 目前LibRec中使用的推荐算法分别有基于矩阵分解算法, 基于因子分解机算法, 概率图模型, 基于张量的算法等. 下面依次给出基于不同算法的推荐算法配置项. 一般来说, 以矩阵分解为例, 继承矩阵分解接口的推荐算法在进行推荐计算时除去配置矩阵分解的配置项之外, 还需要配置其他配置项. 如BPMF算法中,还需要配置<code>rec.recommender.user.mu</code>等配置项.</p>
<p>实现基于以上算法的推荐系统只需继承相应的抽象类即可. 不同算法的配置项列举在下一栏, 目前已经实现的所有推荐算法配置项列举在<a href="./AlgorithmList">Algorithm  List</a>中.</p>
<h3 id="AbstractRecommender">AbstractRecommender<a class="anchor-link" href="#AbstractRecommender">¶</a></h3>
<pre><code># if ranking
rec.recommender.isranking=true
rec.recommender.ranking.topn=10</code></pre>
<p>直接实现AbstractRecommender抽象类的算法有</p>
<table>
<thead><tr>
<th>directory path</th>
<th>short name</th>
<th>algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td>baseline</td>
<td>constantguess</td>
<td>ConstantGuessRecommender</td>
</tr>
<tr>
<td>baseline</td>
<td>globalaverage</td>
<td>GlobalAverageRecommender</td>
</tr>
<tr>
<td>baseline</td>
<td>itemaverage</td>
<td>ItemAverageRecommender</td>
</tr>
<tr>
<td>baseline</td>
<td>mostpopular</td>
<td>MostPopularRecommender</td>
</tr>
<tr>
<td>baseline</td>
<td>randomguess</td>
<td>RandomGuessRecommender</td>
</tr>
<tr>
<td>baseline</td>
<td>useraverage</td>
<td>UserAverageRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>rbm</td>
<td>RBMRecommender</td>
</tr>
<tr>
<td>cf</td>
<td>itemknn</td>
<td>ItemKNNRecommender</td>
</tr>
<tr>
<td>cf</td>
<td>userknn</td>
<td>UserKNNRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>slim</td>
<td>SLIMRecommender</td>
</tr>
<tr>
<td>ext</td>
<td>associationrule</td>
<td>AssociationRuleRecommender</td>
</tr>
<tr>
<td>ext</td>
<td>external</td>
<td>ExternalRecommender</td>
</tr>
<tr>
<td>ext</td>
<td>personalitydiagnosis</td>
<td>PersonalityDiagnosisRecommender</td>
</tr>
<tr>
<td>ext</td>
<td>slopeone</td>
<td>SlopeOneRecommender</td>
</tr>
<tr>
<td>hybrid</td>
<td>hybrid</td>
<td>HybridRecommender</td>
</tr>
</tbody>
</table>
<h3 id="Probabilistic-Graphical-Recommender">Probabilistic Graphical Recommender<a class="anchor-link" href="#Probabilistic-Graphical-Recommender">¶</a></h3>
<pre><code>rec.iterator.maximum=1000
rec.pgm.burn-in=100
rec.pgm.samplelag=100</code></pre>
<p>直接继承自Probabilistic Graphical Recommender的算法有</p>
<table>
<thead><tr>
<th>directory path</th>
<th>short name</th>
<th>algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td>baseline</td>
<td>itemcluster</td>
<td>ItemClusterRecommender</td>
</tr>
<tr>
<td>baseline</td>
<td>usercluster</td>
<td>UserClusterRecommender</td>
</tr>
<tr>
<td>cf</td>
<td>bhfree</td>
<td>BHFreeRecommender</td>
</tr>
<tr>
<td>cf</td>
<td>bucm</td>
<td>BUCMRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>aspectmodelranking</td>
<td>AspectModelRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>itembigram</td>
<td>ItemBigramRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>lda</td>
<td>LDARecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>plsa</td>
<td>PLSARecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>aspectmodelrating</td>
<td>AspectModelRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>gplsa</td>
<td>GPLSARecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>ldcc</td>
<td>LDCCRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>urp</td>
<td>URPRecommender</td>
</tr>
</tbody>
</table>
<h3 id="Matrix-Factorization-Recommender">Matrix Factorization Recommender<a class="anchor-link" href="#Matrix-Factorization-Recommender">¶</a></h3>
<pre><code>rec.iterator.maximum=100
rec.iterator.learningrate=0.01
rec.iterator.learningrate.maximum=1000
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learningrate.bolddriver=false
rec.learningrate.decay=1.0</code></pre>
<p>直接或间接继承Matrix Factorization Recommender的推荐算法有</p>
<table>
<thead><tr>
<th>directory path</th>
<th>short name</th>
<th>algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td>cf.rating</td>
<td>asvdpp</td>
<td>ASVDPlusPlusRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>svdpp</td>
<td>SVDPlusPlusRecommender</td>
</tr>
<tr>
<td>content</td>
<td>efm</td>
<td>EFMRecommender</td>
</tr>
<tr>
<td>content</td>
<td>hft</td>
<td>HFTRecommender</td>
</tr>
<tr>
<td>context.rating</td>
<td>timesvd</td>
<td>TimeSVDRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>aobpr</td>
<td>AoBPRRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>bpr</td>
<td>BPRRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>climf</td>
<td>CLIMFRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>eals</td>
<td>EALSRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>fismauc</td>
<td>FISMaucRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>fismrmse</td>
<td>FISMrmseRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>gbpr</td>
<td>GBPRRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>listwisemf</td>
<td>ListwiseMFRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>rankals</td>
<td>RankALSRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>ranksgd</td>
<td>RankSGDRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>wbpr</td>
<td>WBPRRecommender</td>
</tr>
<tr>
<td>cf.ranking</td>
<td>wrmf</td>
<td>WRMFRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>biasedmf</td>
<td>BiasedMFRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>bnpoissmf</td>
<td>BNPoissMFRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>bpmf</td>
<td>BPMFRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>bpoissmf</td>
<td>BPoissMFRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>llorma</td>
<td>LLORMARecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>mfals</td>
<td>MFALSRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>nmf</td>
<td>NMFRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>pmf</td>
<td>PMFRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>rfrec</td>
<td>RFRecRecommender</td>
</tr>
</tbody>
</table>
<h3 id="Factorization-Machine-Recommender">Factorization Machine Recommender<a class="anchor-link" href="#Factorization-Machine-Recommender">¶</a></h3>
<pre><code>
rec.recommender.maxrate=12.0
rec.recommender.minrate=0.0

rec.factor.number=10

rec.fm.regw0=0.01
reg.fm.regW=0.01
reg.fm.regF=10</code></pre>
<p>直接继承自Factorization Machine Recommender的算法有</p>
<table>
<thead><tr>
<th>directory path</th>
<th>short name</th>
<th>algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td>cf.rating</td>
<td>fmals</td>
<td>FMALSRecommender</td>
</tr>
<tr>
<td>cf.rating</td>
<td>fmsgd</td>
<td>FMSGDRecommender</td>
</tr>
</tbody>
</table>
<h3 id="Social-recommender">Social recommender<a class="anchor-link" href="#Social-recommender">¶</a></h3>
<pre><code>rec.iterator.maximum=100
rec.iterator.learningrate=0.01
rec.iterator.learningrate.maximum=1000
rec.user.regularization=0.01
rec.item.regularization=0.01
rec.factor.number=10
rec.learningrate.bolddriver=false
rec.learningrate.decay=1.0

rec.social.regularization=0.01</code></pre>
<p>直接继承自Social recommender的算法有</p>
<table>
<thead><tr>
<th>directory path</th>
<th>short name</th>
<th>algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td>context.rating</td>
<td>trustmf</td>
<td>TrustMFRecommender</td>
</tr>
<tr>
<td>context.ranking</td>
<td>sbpr</td>
<td>SBPRRecommender</td>
</tr>
<tr>
<td>context.rating</td>
<td>rste</td>
<td>RSTERecommender</td>
</tr>
<tr>
<td>context.rating</td>
<td>socialmf</td>
<td>SocialMFRecommender</td>
</tr>
<tr>
<td>context.rating</td>
<td>sorec</td>
<td>SoRecRecommender</td>
</tr>
<tr>
<td>context.rating</td>
<td>soreg</td>
<td>SoRegRecommender</td>
</tr>
<tr>
<td>context.rating</td>
<td>trustsvd</td>
<td>TrustSVDRecommender</td>
</tr>
</tbody>
</table>
<h3 id="TensorRecommender">TensorRecommender<a class="anchor-link" href="#TensorRecommender">¶</a></h3>
<pre><code>rec.recommender.verbose=true
rec.iterator.learningrate=0.01
rec.iterator.learningrate.maximum=1000
rec.factor.number=10
rec.tensor.regularization=0.01</code></pre>
<p>直接继承自Tensor Recommender的算法有</p>
<table>
<thead><tr>
<th>directory path</th>
<th>short name</th>
<th>algorithm</th>
</tr>
</thead>
<tbody>
<tr>
<td>context.rating</td>
<td>bptf</td>
<td>BPTFRecommender</td>
</tr>
<tr>
<td>context.rating</td>
<td>pitf</td>
<td>PITFRecommender</td>
</tr>
</tbody>
</table>
<h2 id="Implement-your-own-algorithm">Implement your own algorithm<a class="anchor-link" href="#Implement-your-own-algorithm">¶</a></h2><p>在LibRec中实现自己的算法，需要按照自己算法所属的类别，继承对应的抽象类，并按要求实现抽象方法，也可以按自己需求重写抽象类中的方法。
以继承AbstractRecommender为例，实现一个算法的大致流程如下:</p>
<pre><code>1.重写setup方法(可选)
    setup方法主要完成的任务是对算法成员变量的初始化，例如从配置文件中读取参数的操作，可以写在这里。如果算法本身不需要额外配置参数，也可以不重写这个方法。
    需要注意的是，在自己重写的setup方法中，需要首先调用原抽象类中的setup方法，即在第一行执行super.setup()，保证算法的基本参数得到初始化。

2.实现trainModel方法
    trainModel方法完成的任务是算法模型的训练，例如对模型的cost function使用gradient descent进行训练的过程，可以写在这里。

3.实现predict方法
    predict方法完成的任务是，使用训练好的模型进行预测。
    例如对于评分预测算法，在predict方法中需要对测试集中的每个评分值进行预测，即对于给定的userIndex和ItemIndex，使用模型预测它们之间的评分。</code></pre>
<p>具体的实现代码参考LibRec中recommender目录下的算法即可。</p>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
<div class="input_area">
<div class="highlight hl-ipython3"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="mi">1</span>
</pre></div>
</div>
</div>
</div>
</div>
</body>
<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
</div>


            <footer>
<span class="byline author vcard">
    Posted by
    <span class="fn">
            niult
    </span>
</span><time datetime="2019-01-16T00:00:00+08:00" pubdate>2019-01-16 00:00</time><span class="categories">
        <a href="../../../category/tui jian xi tong.html">推荐系统</a>
</span>

    <span class="categories">
            <a class="category" href="../../../tag/python.html">python</a>, 
            <a class="category" href="../../../tag/numpy.html">numpy</a>, 
            <a class="category" href="../../../tag/tui-jian-xi-tong.html">推荐系统</a>
    </span>

<div class="sharing">
</div>            </footer>
        </article>

    </div>
<aside class="sidebar">
    <section>
        <h1>Recent Posts</h1>
        <ul id="recent_posts">
                <li class="post">
                    <a href="../../../pages/2019/01/21-a-first-look-at-a-neural-network.html">2.1-a-first-look-at-a-neural-network</a>
                </li>
                <li class="post">
                    <a href="../../../pages/2019/01/35-classifying-movie-reviews.html">3.5-classifying-movie-reviews</a>
                </li>
                <li class="post">
                    <a href="../../../pages/2019/01/36-classifying-newswires.html">3.6-classifying-newswires</a>
                </li>
                <li class="post">
                    <a href="../../../pages/2019/01/37-predicting-house-prices.html">3.7-predicting-house-prices</a>
                </li>
                <li class="post">
                    <a href="../../../pages/2019/01/44-overfitting-and-underfitting.html">4.4-overfitting-and-underfitting</a>
                </li>
        </ul>
    </section>
        <section>

            <h1>Categories</h1>
            <ul id="recent_posts">
                    <li><a href="../../../category/01chang yong gong ju.html">01常用工具</a></li>
                    <li><a href="../../../category/02.wo ai du shu.html">02.我爱读书</a></li>
                    <li><a href="../../../category/algorithms.html">algorithms</a></li>
                    <li><a href="../../../category/book.html">book</a></li>
                    <li><a href="../../../category/book-pydata.html">book-pydata</a></li>
                    <li><a href="../../../category/deep-learning-with-python.html">deep-learning-with-python</a></li>
                    <li><a href="../../../category/ji qi xue xi shi zhan.html">机器学习实战</a></li>
                    <li><a href="../../../category/ke wai du wu.html">课外读物</a></li>
                    <li><a href="../../../category/ling ji chu ru men shen du xue xi.html">零基础入门深度学习</a></li>
                    <li><a href="../../../category/shen du xue xi.html">深度学习</a></li>
                    <li><a href="../../../category/shen jing wang luo.html">神经网络</a></li>
                    <li><a href="../../../category/shu ju wa jue.html">数据挖掘</a></li>
                    <li><a href="../../../category/shu xue ji chu.html">数学基础</a></li>
                    <li><a href="../../../category/tf-example.html">tf-example</a></li>
                    <li><a href="../../../category/tool1.html">tool1</a></li>
                    <li><a href="../../../category/tool2.html">tool2</a></li>
                    <li><a href="../../../category/tools.html">tools</a></li>
                    <li><a href="../../../category/tui jian xi tong.html">推荐系统</a></li>
                    <li><a href="../../../category/wen ben wa jue.html">文本挖掘</a></li>
            </ul>
        </section>


    <section>
        <h1>Tags</h1>
            <a href="../../../tag/python.html">python</a>, 
            <a href="../../../tag/numpy.html">numpy</a>, 
            <a href="../../../tag/deep-learning.html">deep-learning</a>, 
            <a href="../../../tag/algorithms.html">algorithms</a>, 
            <a href="../../../tag/wen-ben-wa-jue.html">文本挖掘</a>, 
            <a href="../../../tag/shen-jing-wang-luo.html">神经网络</a>, 
            <a href="../../../tag/shu-xue-ji-chu.html">数学基础</a>, 
            <a href="../../../tag/nlp.html">nlp</a>, 
            <a href="../../../tag/tf-example.html">tf-example</a>, 
            <a href="../../../tag/tui-jian-xi-tong.html">推荐系统</a>, 
            <a href="../../../tag/tf.html">tf</a>, 
            <a href="../../../tag/ji-huo-han-shu.html">激活函数</a>, 
            <a href="../../../tag/mapreduce.html">mapreduce</a>, 
            <a href="../../../tag/spark.html">spark</a>, 
            <a href="../../../tag/handbook.html">handbook</a>, 
            <a href="../../../tag/matplotlib.html">matplotlib</a>, 
            <a href="../../../tag/scikit-learn.html">scikit-learn</a>, 
            <a href="../../../tag/latex.html">latex</a>, 
            <a href="../../../tag/pandas.html">pandas</a>, 
            <a href="../../../tag/jupyter.html">jupyter</a>, 
            <a href="../../../tag/plot.html">plot</a>, 
            <a href="../../../tag/pip.html">pip</a>, 
            <a href="../../../tag/geng-xin-suo-you-mo-kuai.html">更新所有模块</a>, 
            <a href="../../../tag/shen-du-xue-xi.html">深度学习</a>, 
            <a href="../../../tag/xun-huan-shen-jing-wang-luo.html">循环神经网络</a>, 
            <a href="../../../tag/pangrank.html">PangRank</a>, 
            <a href="../../../tag/book.html">book</a>, 
            <a href="../../../tag/pydata.html">pydata</a>, 
            <a href="../../../tag/shell.html">shell</a>, 
            <a href="../../../tag/pyhton.html">pyhton</a>
    </section>



    <section>
        <h1>GitHub Repos</h1>
            <a href="https://github.com/1007530194">@1007530194</a> on GitHub
    </section>

</aside>    </div>
</div>
<footer role="contentinfo"><p>
        活到老，学到老，玩到老
    <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-132396898-1', 'auto');

    ga('require', 'displayfeatures');
    ga('send', 'pageview');
    </script>
</body>
</html>